---
layout: post
title: Webæµè§ˆå™¨é¢é¢è§‚
categories: Chrome
description: Web æµè§ˆå™¨é¢é¢è§‚
keywords: Chrome, Chrome V8, JavaScriptCore, JS, å‰ç«¯, JavaScript
---

&emsp;&emsp;æµè§ˆå™¨çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œåœ¨æµè§ˆå™¨çª—å£ä¸­å±•ç¤ºHTMLæ–‡æ¡£ã€PDFã€å›¾ç‰‡ã€è§†é¢‘ç­‰ç½‘ç»œå†…å®¹ã€‚è¿™äº›ç½‘ç»œèµ„æºçš„ä½ç½®ç”±ç”¨æˆ·ä½¿ç”¨ URIï¼ˆç»Ÿä¸€èµ„æºæ ‡ç¤ºç¬¦ï¼‰æ¥æŒ‡å®šæŒ‡å®šã€‚

&emsp;&emsp;è·å–åœ¨å¤§å¤šæ•°äººçœ¼ä¸­ï¼Œæµè§ˆå™¨æ˜¯è¿™æ ·çš„ï¼š

![å¤§å¤šæ•°äººçœ¼ä¸­çš„æµè§ˆå™¨](https://king-hcj.github.io/images/browser/black-box.png?raw=true)

&emsp;&emsp;ä¸€ä¸ªå±•ç¤ºå‰ç«¯ï¼Œä¸€ä¸ªæœªçŸ¥çš„ä¸­é—´å±‚è¿æ¥ç€ç½‘ç»œä¸–ç•Œï¼›ç”šè‡³ï¼Œç½‘ç»œä¸–ç•Œä¹Ÿå¯ä»¥çœç•¥ï¼šä¸€å°æ˜¾ç¤ºå™¨ï¼Œä¸€ä¸ªç¥ç§˜çš„å¹•åé»‘ç›’ã€‚

&emsp;&emsp;å¦‚æœä½ æ˜¯ä¸€ä¸ªå‰ç«¯å¼€å‘è€…ï¼Œç”šè‡³æ¯å¤©æµè§ˆå™¨é™ªä¼´ä½ åº¦è¿‡çš„æ—¶å…‰æ¯”å¥³æœ‹å‹é™ªä¼´ä½ çš„éƒ½è¦ä¹…ï¼Œæƒ³æƒ³é‚£æ¯ä¸€ä¸ªä»¤äººâ€œä¸æ˜¯é‚£ä¹ˆæœŸå¾…â€çš„æ—©æ™¨ï¼Œæ¯ä¸€ä¸ªäº‰åˆ†å¤ºç§’å®Œæˆä»»åŠ¡çš„é»„æ˜ï¼Œåªæœ‰æµè§ˆå™¨å’Œç¼–è¾‘å™¨ä¸€ç›´æ˜¯ä½ å¿ å®çš„ä¼™ä¼´ã€‚è€Œå°±è¿ä½ ä¸€ç›´ç¦»ä¸å¼€çš„VS Codeç¼–è¾‘å™¨ï¼Œç”šè‡³ä¹Ÿä¸æµè§ˆå™¨æœ‰ç€è«å¤§çš„æ¸Šæºã€‚
&emsp;&emsp;å±å¹•å‰çš„æœ‹å‹ï¼Œä½ ç†Ÿæ‚‰è‡ªå·±èº«è¾¹çš„é‚£äº›äººå—ï¼Œç†Ÿæ‚‰é‚£äº›ä¸ä½ æœå¤•ç›¸ä¼´çš„æœ‹å‹å—ï¼Ÿä¹Ÿè®¸ç†Ÿæ‚‰ï¼Œä¹Ÿè®¸è¡¥ï¼Œé‚£ä¹ˆï¼Œä½ æ˜¯å¦æ„¿æ„èŠ±äº›æ—¶é—´æ¥ç†Ÿæ‚‰ä¸€ä¸‹è¿™ä¸ªåœ¨å¤§é‡æ—¶é—´é‡Œä¸ä½ æœ‰ç€è«å¤§äº¤é›†çš„æµè§ˆå™¨çš„å†…å¿ƒä¸–ç•Œå‘¢ï¼Ÿ

&emsp;&emsp;ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥ä¸€æ¢ç©¶ç«Ÿï¼Œèµ°è¿›è¿™ä¸ªæˆ‘ä»¬ä¸ç½‘ç»œè¿æ¥æœ€ç´§å¯†çš„ä¸­é—´åœ°å¸¦ã€‚

## æµè§ˆå™¨å‘å±•ç®€å²

### æµè§ˆå™¨çš„è¯ç”Ÿä¸å‘å±•

&emsp;&emsp;ç¬¬ä¸€æ¬¾æµè§ˆå™¨è¯ç”Ÿäº1990å¹´ï¼Œä½†æ˜¯ç°ä»£æµè§ˆå™¨çš„é›å½¢å´å‡ºç°åœ¨1980så¹´ä»£ã€‚

&emsp;&emsp;ä¸€ä½åå«è’‚å§†Â·ä¼¯çº³æ–¯-æçš„è‹±å›½ç§‘å­¦å®¶åœ¨ 1980 å¹´ä»£åˆæœŸåˆ›å»ºäº†ä¸€ä¸ªåä¸º Inquire çš„è®¡ç®—æœºç¨‹åºï¼Œå½“æ—¶ä»–åœ¨æ€»éƒ¨ä½äºç‘å£«çš„æ¬§æ´²æ ¸ç ”ç©¶ç»„ç»‡ï¼ˆCERNï¼Œä»¥å…¶æ³•æ–‡å­—æ¯è¡¨ç¤ºï¼‰å·¥ä½œã€‚è¯¥è®¡åˆ’æ—¨åœ¨ä½¿åœ¨ CERN å·¥ä½œçš„è®¸å¤šä¸åŒä¸ªäººæ›´å®¹æ˜“å…±äº«ä¿¡æ¯ã€‚

&emsp;&emsp;1990å¹´ï¼Œç¬¬ä¸€æ¬¾æµè§ˆå™¨é—®ä¸–äºTim Berners-Lee åœ¨ CERN å·¥ä½œæœŸé—´ã€‚æ‚¨å¯èƒ½æƒ³çŸ¥é“ Web æµè§ˆå™¨åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œç®€è€Œè¨€ä¹‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªè®¡ç®—æœºç¨‹åºï¼Œå…¶ç›®çš„æ˜¯æ˜¾ç¤ºå’Œæ£€ç´¢æ•°æ®ã€‚ä½¿ç”¨åˆ†é…ç»™å­˜å‚¨åœ¨ç½‘ç»œæœåŠ¡å™¨ä¸Šçš„æ¯ä¸ªæ•°æ®é›†ï¼ˆç½‘é¡µï¼‰çš„ URLï¼Œå®ƒå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚æ‰€ä»¥è¿™æ„å‘³ç€å½“æ‚¨åœ¨æµè§ˆå™¨ä¸­è¾“å…¥å†…å®¹æ—¶ï¼Œæ‚¨å®é™…ä¸Šæ˜¯åœ¨è¾“å…¥åœ°å€ï¼Œæµè§ˆå™¨å°†ä½¿ç”¨è¯¥åœ°å€æ¥è·å–æ‚¨æƒ³è¦æŸ¥çœ‹çš„ä¿¡æ¯ã€‚æµè§ˆå™¨çš„å¦ä¸€ä¸ªå…³é”®åŠŸèƒ½æ˜¯ä»¥æ˜“äºç†è§£çš„æ–¹å¼å‘æ‚¨è§£é‡Šå’Œå‘ˆç°è®¡ç®—æœºä»£ç ã€‚

&emsp;&emsp;æµè§ˆå™¨ç®€å²ï¼š

![Timeline_of_the_Web_Browsers](https://king-hcj.github.io/images/browser/Timeline_of_the_Web_Browsers.jpg?raw=true)

&emsp;&emsp;æ—©æœŸçš„æµè§ˆå™¨ï¼š

![The-Early-Browsers](https://king-hcj.github.io/images/browser/The-Early-Browsers.jpeg?raw=true)

&emsp;&emsp;æµè§ˆå™¨è¯ç”Ÿä¹‹åçš„æ•…äº‹ï¼Œæƒ³å¿…æ‚¨å·²ç»æ—©æœ‰è€³é—»ï¼š

- NCSA Mosaicï¼Œæˆ–ç®€ç§°Mosaicï¼Œæ˜¯äº’è”ç½‘å†å²ä¸Šç¬¬ä¸€ä¸ªè·æ™®éä½¿ç”¨å’Œèƒ½å¤Ÿæ˜¾ç¤ºå›¾ç‰‡çš„ç½‘é¡µæµè§ˆå™¨ã€‚å®ƒæ˜¯ç”±ä¼Šåˆ©è¯ºä¼Šå¤§å­¦å„å·´çº³-é¦™æ§Ÿåˆ†æ ¡çš„NCSAç»„ç»‡åœ¨1993å¹´æ‰€å‘è¡¨ï¼Œå¹¶äº1997å¹´1æœˆ7æ—¥æ­£å¼ç»ˆæ­¢å¼€å‘å’Œæ”¯æŒã€‚åœ¨å½“æ—¶äººæ°”çˆ†å‘çš„å¤§å—æ¬¢è¿ã€‚Mosaicçš„å‡ºç°ï¼Œç®—æ˜¯ç‚¹ç‡ƒäº†åæœŸäº’è”ç½‘çƒ­æ½®çš„ç«ç§ä¹‹ä¸€ã€‚åæ¥ç½‘æ™¯å¯¼èˆªè€…æµè§ˆå™¨çš„å¼€å‘å·¥ä½œï¼Œè˜ç”¨äº†è®¸å¤šåŸæœ‰çš„Mosaicæµè§ˆå™¨å·¥ç¨‹å¸ˆï¼Œä½†æ˜¯æ²¡æœ‰é‡‡ç”¨Mosaicç½‘é¡µæµè§ˆå™¨çš„ä»»ä½•ä»£ç ã€‚ä¼ æ‰¿ç½‘æ™¯æµè§ˆå™¨ä»£ç çš„åè£”ä¸ºFirefoxæµè§ˆå™¨ã€‚

- Marc Andreesen ä¸åŒäº‹ Jim Clark äº 1994 å¹´æˆç«‹äº†ä¸€å®¶å…¬å¸ï¼Œå½“æ—¶ Mosaic è¿˜æ˜¯æœ€æµè¡Œçš„æµè§ˆå™¨ï¼Œå®ƒä»¬è®¡åˆ’æ‰“é€ å‡ºä¸€ä¸ªæ¯” Mosaic æ›´å¥½çš„æµè§ˆå™¨ï¼Œå é¢†å¸‚åœºï¼Œè®©ä»–ä»¬å˜å¾—å¯Œæœ‰ï¼Œå¹¶æ”¹å˜å†å²ã€‚ä»–ä»¬çš„ç¬¬ä¸€ä¸ªæµè§ˆå™¨è¢«ç§°ä¸º Mosaic Netscape 0.9ï¼Œä¸ä¹…æ›´å Netscapeã€‚å¾—ç›Šäº JavaScript å’Œâ€œpartial-screen loadingâ€ï¼ˆå³ä½¿é¡µé¢æœªå®Œå…¨åŠ è½½ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥å¼€å§‹é˜…è¯»é¡µé¢ä¸Šçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿™ä¸€ä¸ªæ–°æ¦‚å¿µæå¤§åœ°ä¸°å¯Œäº†åœ¨çº¿ä½“éªŒï¼‰ç­‰åŠŸèƒ½ï¼Œå®ƒå¾ˆå¿«æˆä¸ºå¸‚åœºé¢†å¯¼è€…ï¼Œå æ®äº†æµè§ˆå™¨å¸‚åœºä¸Šä¸€åŠçš„ä»½é¢ï¼ŒNetscape çš„ IPO ä¹ŸåŠ©é•¿äº†æ—¥ç›Šå¢é•¿çš„ç½‘ç»œæ³¡æ²«ã€‚

- Netscape æœ€åˆçš„æˆåŠŸå‘é‚£äº›åœ¨è®¡ç®—æœºå’Œäº’è”ç½‘é¢†åŸŸå·¥ä½œçš„äººè¯æ˜äº†æ—¶ä»£å·²ç»æ°¸è¿œæ”¹å˜äº†ï¼Œè¿™è®©å½“æ—¶ä¸šå†…æœ€å¼ºå¤§çš„å‚ä¸è€…æ„Ÿåˆ°éœ‡æƒŠã€‚ä¸€å®¶åä¸º Microsoft çš„è¥¿é›…å›¾å…¬å¸å°±æ˜¯è¿™æ ·ä¸€å®¶å…¬å¸ã€‚Netscape å¯¹å¾®è½¯æ¥è¯´æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ï¼Œå¾®è½¯åœ¨ 1990 å¹´ä»£åæœŸåˆ›å»ºäº†è‡ªå·±çš„æµè§ˆå™¨ Internet Explorerï¼Œä½†å®ƒé€šå¸¸è¢«è§†ä¸ºåŠ£è´¨äº§å“ã€‚ç”±äºå…¶è·¨å¹³å°ç‰¹æ€§ï¼Œäººä»¬å¯ä»¥åœ¨ Windows PC æˆ– Mac æˆ–ä»»ä½•å…¶ä»–ç³»ç»Ÿä¸Šä½¿ç”¨ Netscapeï¼Œè¿™å¯¼è‡´è®¸å¤šäººçŒœæµ‹**æ“ä½œç³»ç»Ÿçš„æ—¶ä»£å·²ç»ç»“æŸ**ã€‚è®¡ç®—æœºå°†é€šè¿‡æµè§ˆå™¨è¿è¡Œï¼Œæµè§ˆå™¨å¯ä»¥åœ¨ä»»ä½•æœºå™¨ä¸Šè¿è¡Œï¼Œä»è€Œä½¿è½¯ä»¶è¡Œä¸šæ°‘ä¸»åŒ–å¹¶é™ä½å…¶ç›¸å½“å¤§çš„è¿›å…¥å£å’ã€‚**å¾®è½¯å·²ç»å»ºç«‹äº†é”€å”®å…¶ä¸“æœ‰æ“ä½œç³»ç»Ÿ Windows çš„å¸å›½**ï¼Œå› æ­¤å°†è¿™ç§ç”± Netscape ç­‰å…¬å¸å¸¦å¤´çš„å‘å±•è§†ä¸ºä¸€ç§å¨èƒã€‚å¾®è½¯é€šè¿‡å¯¹å…¶äº§å“çš„å¤§é‡æŠ•èµ„ï¼ŒæˆåŠŸåœ°è¿…é€Ÿæ‰­è½¬äº†æµè§ˆå™¨è¡Œä¸šçš„å±€é¢ï¼Œä½¿å…¶ä¸ Netscape ä¸€æ ·å¥½ã€‚Windows è®¡ç®—æœºåœ¨å‘å¸ƒæ—¶å·²ç»å®‰è£…äº† Internet Explorerï¼ˆMicrosoft çš„æµè§ˆå™¨ï¼‰ï¼Œè¿™ä½¿å…¶èƒ½å¤Ÿåœ¨å¸‚åœºä¸Šå æ®ä¸€å¸­ä¹‹åœ°å¹¶ä¸æ–­å‘å±•å£®å¤§ï¼Œæœ€ç»ˆåœ¨æµè§ˆå™¨é¢†åŸŸå–å¾—äº†èƒœåˆ©ã€‚

![Market_Share_During_the_Browser_Wars](https://king-hcj.github.io/images/browser/Market_Share_During_the_Browser_Wars.jpg?raw=true)

&emsp;&emsp;å¸‚åœºä»½é¢çš„å¿«é€Ÿä¸‹æ»‘å¯¼è‡´ Netscape åœ¨ 2000 å¹´å–ç»™äº† AOLï¼Œ2008 å¹´Netscapeæœ€ç»ˆç­ç»ã€‚
&emsp;&emsp;åˆ° 2003 å¹´ï¼Œå¾®è½¯çš„ Internet Explorer æ§åˆ¶äº† 92% ä»¥ä¸Šçš„å¸‚åœºï¼Œå®Œå…¨æ‰­è½¬äº† 1995 å¹´çš„å±€é¢ã€‚ç„¶è€Œï¼Œè™½ç„¶å¾®è½¯åœ¨ä¸åˆ°åå¹´çš„æ—¶é—´é‡ŒæˆåŠŸåœ°å®Œå…¨æ¥ç®¡äº†æµè§ˆå™¨å¸‚åœºï¼Œä½†å¾ˆå¿«å°±ä¼šå‡ºç°å…¶ä»–ç«äº‰ï¼Œå†æ¬¡é‡å¡‘ç½‘ç»œæµè§ˆå™¨çš„å†å²ã€‚

- åœ¨å¾®è½¯åœ¨ 1990 å¹´ä»£åæœŸå´›èµ·å¹¶è®© Netscape ç­‰å…¬å¸å±ˆæœä¹‹åï¼Œæµè§ˆå™¨çš„å†å²ä¼¼ä¹å·²ç»èµ°åˆ°äº†å°½å¤´ã€‚ç„¶è€Œï¼Œæ­£å¦‚æœ€åˆå‘å¸ƒåçš„æƒ…å†µä¸€æ ·ï¼ŒInternet Explorer æ­£åœ¨æˆä¸ºåŠ£è´¨äº§å“ã€‚è°·æ­Œäº 2008 å¹´æ¨å‡ºäº†å…¶ä¸“æœ‰æµè§ˆå™¨â€”â€”Chromeã€‚åˆ° 2012 å¹´åº•ï¼Œå³æ¨å‡ºä»…å››å¹´åï¼Œè°·æ­Œ Chrome æµè§ˆå™¨å‡­å€Ÿå…¶æ˜“ç”¨æ€§ã€è·¨å¹³å°åŠŸèƒ½ã€é€Ÿåº¦ä»¥åŠä¸æ ‡ç­¾å’Œä¹¦ç­¾ç›¸å…³çš„ç‰¹æ®ŠåŠŸèƒ½ï¼Œå–ä»£ Internet Explorer æˆä¸ºæœ€å—æ¬¢è¿çš„æµè§ˆå™¨ã€‚

- åœ¨ 2000 å¹´ä»£åˆæœŸï¼Œå¯èƒ½æ˜¯åœ¨å¾®è½¯å°†æµè§ˆå™¨é™„åŠ åˆ°å…¶æ“ä½œç³»ç»Ÿä¹‹åï¼ŒApple å‘å¸ƒäº† Safariï¼Œä¸€ç§ä¸“ä¸º Mac è®¾è®¡çš„æµè§ˆå™¨ï¼Œå¹¶æˆä¸ºç›®å‰å¸‚åœºä¸Šç¬¬äºŒå¤§æµè§ˆå™¨ã€‚

- Internet Explorer çš„æµè¡Œåº¦åœ¨ 2000 å¹´ä»£åæœŸé€æ¸å‡å°‘ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒå˜å¾—ç¼“æ…¢å’Œè¿‡æ—¶ï¼Œè€Œ Microsoft å‘ç°è‡ªå·±ç°åœ¨ä¼¼ä¹å·²ç»æ˜¯åœ¨å¤–é¢è§‚å¯Ÿæµè§ˆå™¨ä¸–ç•Œã€‚è¯¥å…¬å¸ä¸æƒ³ç»§ç»­é”™è¿‡ï¼Œäºæ˜¯ç€æ‰‹è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†å‘ç°ä¸€ä¸ªå…³é”®é—®é¢˜æ˜¯â€œInternet Explorerâ€è¿™ä¸ªåå­—å·²ç»æˆä¸ºåŠ£è´¨æµè§ˆå™¨çš„åŒä¹‰è¯ã€‚å› æ­¤ï¼Œä¸ºäº†å°è¯•é‡æ–°è¿›å…¥æ¸¸æˆï¼Œå¾®è½¯ä¸å¾—ä¸é‡æ–°å‘½åï¼Œå®ƒé€šè¿‡å‘å¸ƒ Edge æ¥å®ç°ï¼Œè¿™æ˜¯å¾®è½¯æµè§ˆå™¨çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå®ƒæ”¶åˆ°äº†å¾ˆå¤šå¥½è¯„ï¼Œä½†å¯¹äº Microsoft æ¥è¯´ï¼Œä½œä¸º Edge å¯èƒ½ä¸ºæ—¶å·²æ™šã€‚

- IEæµè§ˆå™¨ç»ˆæˆæ—¶ä»£ä¹‹æ³ªï¼ŒMicrosoft Edgeæˆä¸ºWindows 11çš„é»˜è®¤æµè§ˆå™¨ã€‚è¿™æ˜¯Windowsç³»ç»Ÿæ›´æ–°20å¹´æ¥ï¼ŒIEçš„é¦–æ¬¡ç¼ºå¸­ï¼Œä¹Ÿæ˜¯æœ€åä¸€æ¬¡ã€‚æ—©åœ¨Win10æ›´æ–°æ—¶å¾®è½¯å°±è¡¨ç¤ºï¼Œå°†æ”¾å¼ƒæ›´æ–°IEè½¬å‘å¼€å‘æ–°çš„æµè§ˆå™¨Microsoft Edgeã€‚å¦‚ä»Šæ˜¯å½»åº•è¦å’Œæ¡Œé¢ä¸Šçš„IEè¯´å†è§äº†ã€‚ â€”â€” IE æµè§ˆå™¨å°†åœ¨ 2022 å¹´å®‰æ¯ï¼Œå®ƒä¹Ÿå°†ä» Windows 11 ä¸­æ¶ˆå¤±ã€‚

### æµè§ˆå™¨å¸‚åœºä»½é¢

&emsp;&emsp;æˆªæ­¢2021å¹´7æœˆåˆï¼Œæµè§ˆå™¨å¸‚åœºä»½é¢å¦‚ä¸‹ï¼š

&emsp;&emsp;è¿‘å¹´æ¥æµè§ˆå™¨ä½¿ç”¨è¶‹åŠ¿å˜åŒ–ï¼š

![Web_Browser_Usage_Trends](https://king-hcj.github.io/images/browser/Web_Browser_Usage_Trends.png?raw=true)

&emsp;&emsp;æµè§ˆå™¨å¸‚åœºä»½é¢ï¼š

![Web_Browser_Market_Share](https://king-hcj.github.io/images/browser/Web_Browser_Market_Share.png?raw=true)


&emsp;&emsp;å›½å†…æµè§ˆå™¨å¸‚åœºä»½é¢ï¼š

![Web_Browser_Market_Share_CHN](https://king-hcj.github.io/images/browser/Web_Browser_Market_Share_CHN.png?raw=true)

å¦‚ä½•æŸ¥çœ‹æµè§ˆå™¨å¸‚åœºä»½é¢ï¼š

- å›½å†…æµè§ˆå™¨å¸‚åœºä»½é¢
  - [æµè§ˆå™¨å¸‚åœºä»½é¢](https://tongji.baidu.com/research/site){:target='\_blank'}
- å…¨çƒæµè§ˆå™¨å¸‚åœºä»½é¢
  - [å…¨çƒæµè§ˆå™¨å¸‚åœºä»½é¢](https://gs.statcounter.com/){:target='\_blank'}
  - [w3counter](https://www.w3counter.com/globalstats.php){:target='\_blank'}


### å‚è€ƒèµ„æ–™

- [The Story of the Web: A History Of Internet Browsers](https://www.internetadvisor.com/the-story-of-the-web-a-history-of-internet-browsers){:target='_blank'}
- [THE HISTORY OF THE WEB BROWSER](https://minimalistwpthemes.com/history-of-the-web-browser/){:target='_blank'}
- [æµè§ˆå™¨ç®€å²](http://www.cnw.com.cn/zhuanti/2009-ie/){:target='_blank'}

## æµè§ˆå™¨æ¶æ„

### è®¡ç®—æœºçš„æ ¸å¿ƒ

#### CPU

&emsp;&emsp;ä¸­å¤®å¤„ç†å™¨ï¼ˆCentral Processing Unitï¼‰ï¼Œæˆ–ç®€ç§°ä¸º CPUã€‚CPU å¯ä»¥çœ‹ä½œæ˜¯è®¡ç®—æœºçš„å¤§è„‘ã€‚**ä¸€ä¸ª CPU æ ¸å¿ƒå¦‚å›¾ä¸­çš„åŠå…¬äººå‘˜ï¼Œå¯ä»¥é€ä¸€è§£å†³å¾ˆå¤šä¸åŒä»»åŠ¡**ã€‚å®ƒå¯ä»¥åœ¨è§£å†³ä»æ•°å­¦åˆ°è‰ºæœ¯ä¸€åˆ‡ä»»åŠ¡çš„åŒæ—¶è¿˜çŸ¥é“å¦‚ä½•å“åº”å®¢æˆ·è¦æ±‚ã€‚è¿‡å» CPU å¤§å¤šæ˜¯å•èŠ¯ç‰‡çš„ï¼Œä¸€ä¸ªæ ¸å¿ƒå°±åƒå­˜åœ¨äºåŒèŠ¯ç‰‡çš„å¦ä¸€ä¸ª CPUã€‚éšç€ç°ä»£ç¡¬ä»¶å‘å±•ï¼Œä½ ç»å¸¸ä¼šæœ‰ä¸æ­¢ä¸€ä¸ªå†…æ ¸ï¼Œä¸ºä½ çš„æ‰‹æœºå’Œç¬”è®°æœ¬ç”µè„‘æä¾›æ›´å¤šçš„è®¡ç®—èƒ½åŠ›ã€‚

&emsp;&emsp;4 ä¸ª CPU æ ¸å¿ƒä½œä¸ºåŠå…¬äººå‘˜ï¼Œååœ¨åŠå…¬æ¡Œå‰å¤„ç†å„è‡ªçš„å·¥ä½œï¼š

![CPU](https://king-hcj.github.io/images/browser/CPU.png?raw=true)

#### GPU

&emsp;&emsp;å›¾å½¢å¤„ç†å™¨ï¼ˆGraphics Processing Unitï¼Œç®€ç§°ä¸º GPUï¼‰æ˜¯è®¡ç®—æœºçš„å¦ä¸€éƒ¨ä»¶ã€‚ä¸ CPU ä¸åŒï¼ŒGPU æ“…é•¿åŒæ—¶å¤„ç†è·¨å†…æ ¸çš„ç®€å•ä»»åŠ¡ã€‚é¡¾åæ€ä¹‰ï¼Œ**å®ƒæœ€åˆæ˜¯ä¸ºè§£å†³å›¾å½¢è€Œå¼€å‘çš„**ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨å›¾å½¢ç¯å¢ƒä¸­â€œä½¿ç”¨ GPUâ€ æˆ– â€œGPU æ”¯æŒâ€éƒ½ä¸å¿«é€Ÿæ¸²æŸ“å’Œé¡ºæ»‘äº¤äº’æœ‰å…³ã€‚è¿‘å¹´æ¥éšç€ GPU åŠ é€Ÿè®¡ç®—çš„æ™®åŠï¼Œä»…é  GPU ä¸€å·±ä¹‹åŠ›ä¹Ÿä½¿å¾—è¶Šæ¥è¶Šå¤šçš„è®¡ç®—æˆä¸ºå¯èƒ½ã€‚

&emsp;&emsp;è®¸å¤šå¸¦ç‰¹å®šæ‰³æ‰‹çš„ GPU å†…æ ¸æ„å‘³ç€å®ƒä»¬åªèƒ½å¤„ç†æœ‰é™ä»»åŠ¡

![GPU](https://king-hcj.github.io/images/browser/GPU.png?raw=true)

&emsp;&emsp;å½“ä½ åœ¨ç”µè„‘æˆ–æ‰‹æœºä¸Šå¯åŠ¨åº”ç”¨æ—¶ï¼Œæ˜¯ **CPU å’Œ GPU ä¸ºåº”ç”¨ä¾›èƒ½**ã€‚é€šå¸¸æƒ…å†µä¸‹åº”ç”¨æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿæä¾›çš„æœºåˆ¶åœ¨ CPU å’Œ GPU ä¸Šè¿è¡Œã€‚

&emsp;&emsp;ä¸‰å±‚è®¡ç®—æœºä½“ç³»ç»“æ„ï¼Œåº•éƒ¨æ˜¯æœºå™¨ç¡¬ä»¶ï¼Œä¸­é—´æ˜¯æ“ä½œç³»ç»Ÿï¼Œé¡¶éƒ¨æ˜¯åº”ç”¨ç¨‹åºã€‚

![hw-os-app](https://king-hcj.github.io/images/browser/hw-os-app.png?raw=true)


#### è¿›ç¨‹ä¸çº¿ç¨‹

&emsp;&emsp;è¿›ç¨‹å¯ä»¥è¢«æè¿°ä¸ºæ˜¯ä¸€ä¸ªåº”ç”¨çš„æ‰§è¡Œç¨‹åºã€‚çº¿ç¨‹æ˜¯ä½äºè¿›ç¨‹å†…éƒ¨å¹¶æ‰§è¡Œå…¶è¿›ç¨‹ç¨‹åºçš„ä»»æ„éƒ¨åˆ†ã€‚

&emsp;&emsp;å¯åŠ¨åº”ç”¨æ—¶ä¼šåˆ›å»ºä¸€ä¸ªè¿›ç¨‹ã€‚ç¨‹åºä¹Ÿè®¸ä¼šåˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹æ¥å¸®åŠ©å®ƒå·¥ä½œï¼Œè¿™æ˜¯å¯é€‰çš„ã€‚æ“ä½œç³»ç»Ÿä¸ºè¿›ç¨‹æä¾›äº†ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„â€œä¸€å—â€å†…å­˜ï¼Œæ‰€æœ‰åº”ç”¨ç¨‹åºçŠ¶æ€éƒ½ä¿å­˜åœ¨è¯¥ç§æœ‰å†…å­˜ç©ºé—´ä¸­ã€‚å…³é—­åº”ç”¨ç¨‹åºæ—¶ï¼Œç›¸åº”çš„è¿›ç¨‹ä¹Ÿä¼šæ¶ˆå¤±ï¼Œæ“ä½œç³»ç»Ÿä¼šé‡Šæ”¾å†…å­˜ã€‚

![memory](https://king-hcj.github.io/images/browser/memory.svg?raw=true)

&emsp;&emsp;è¿›ç¨‹å¯ä»¥è¯·æ±‚æ“ä½œç³»ç»Ÿå¯åŠ¨å¦ä¸€ä¸ªè¿›ç¨‹æ¥æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚æ­¤æ—¶ï¼Œå†…å­˜ä¸­çš„ä¸åŒéƒ¨åˆ†ä¼šåˆ†ç»™æ–°è¿›ç¨‹ã€‚å¦‚æœä¸¤ä¸ªè¿›ç¨‹éœ€è¦å¯¹è¯ï¼Œä»–ä»¬å¯ä»¥é€šè¿‡**è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰**æ¥è¿›è¡Œã€‚è®¸å¤šåº”ç”¨éƒ½æ˜¯è¿™æ ·è®¾è®¡çš„ï¼Œæ‰€ä»¥å¦‚æœä¸€ä¸ªå·¥ä½œè¿›ç¨‹å¤±å»å“åº”ï¼Œè¯¥è¿›ç¨‹å°±å¯ä»¥åœ¨ä¸åœæ­¢åº”ç”¨ç¨‹åºä¸åŒéƒ¨åˆ†çš„å…¶ä»–è¿›ç¨‹è¿è¡Œçš„æƒ…å†µä¸‹é‡æ–°å¯åŠ¨ã€‚

![workerprocess](https://king-hcj.github.io/images/browser/workerprocess.svg?raw=true)

### æµè§ˆå™¨çš„è¿›ç¨‹/çº¿ç¨‹æ¶æ„æ¨¡å‹

&emsp;&emsp;å…³äºå¦‚ä½•æ„å»º web æµè§ˆå™¨å¹¶ä¸å­˜åœ¨æ ‡å‡†è§„èŒƒï¼Œä¸€ä¸ªæµè§ˆå™¨çš„æ„å»ºæ–¹æ³•å¯èƒ½ä¸å¦ä¸€ä¸ªè¿¥ç„¶ä¸åŒã€‚ä¸åŒæµè§ˆå™¨æ¶æ„çš„è¿›ç¨‹/çº¿ç¨‹ä¸€èˆ¬ç”±ä¸‹å›¾å‡ éƒ¨åˆ†ï¼š

![browser-arch](https://king-hcj.github.io/images/browser/browser-arch.png?raw=true)

&emsp;&emsp;è€Œå½“ä¸‹â€œæµè§ˆå™¨ä¸–ç•Œçš„ç‹è€…â€ Chrome æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ¸²æŸ“è¿›ç¨‹ä¸‹æ˜¾ç¤ºäº†å¤šä¸ªå±‚ï¼Œè¡¨æ˜ Chrome ä¸ºæ¯ä¸ªæ ‡ç­¾é¡µè¿è¡Œå¤šä¸ªæ¸²æŸ“è¿›ç¨‹ã€‚

![browser-arch-chrome](https://king-hcj.github.io/images/browser/browser-arch-chrome.png?raw=true)

&emsp;&emsp;é¡¶éƒ¨æ˜¯æµè§ˆå™¨è¿›ç¨‹ï¼Œå®ƒä¸å¤„ç†åº”ç”¨å…¶å®ƒæ¨¡å—ä»»åŠ¡çš„è¿›ç¨‹è¿›è¡Œåè°ƒã€‚å¯¹äºæ¸²æŸ“è¿›ç¨‹æ¥è¯´ï¼Œåˆ›å»ºäº†å¤šä¸ªæ¸²æŸ“è¿›ç¨‹å¹¶åˆ†é…ç»™äº†æ¯ä¸ªæ ‡ç­¾é¡µã€‚ç›´åˆ°æœ€è¿‘ï¼ŒChrome åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ç»™æ¯ä¸ªæ ‡ç­¾é¡µåˆ†é…ä¸€ä¸ªè¿›ç¨‹ã€‚è€Œç°åœ¨å®ƒè¯•å›¾ç»™æ¯ä¸ªç«™ç‚¹åˆ†é…ä¸€ä¸ªè¿›ç¨‹ï¼ŒåŒ…æ‹¬ iframeã€‚

- æµè§ˆå™¨è¿›ç¨‹ï¼šæ§åˆ¶åº”ç”¨ä¸­çš„ â€œChromeâ€ éƒ¨åˆ†ï¼ŒåŒ…æ‹¬åœ°å€æ ï¼Œä¹¦ç­¾ï¼Œå›é€€ä¸å‰è¿›æŒ‰é’®ã€‚ä»¥åŠå¤„ç† web æµè§ˆå™¨ä¸å¯è§çš„ç‰¹æƒéƒ¨åˆ†ï¼Œå¦‚ç½‘ç»œè¯·æ±‚ä¸æ–‡ä»¶è®¿é—®ã€‚
- æ¸²æŸ“è¿›ç¨‹ï¼šæ§åˆ¶æ ‡ç­¾é¡µå†…ç½‘ç«™å±•ç¤ºã€‚
- æ’ä»¶è¿›ç¨‹ï¼šæ§åˆ¶ç«™ç‚¹ä½¿ç”¨çš„ä»»æ„æ’ä»¶ï¼Œå¦‚ Flashã€‚
- GPUè¿›ç¨‹ï¼šå¤„ç†ç‹¬ç«‹äºå…¶å®ƒè¿›ç¨‹çš„ GPU ä»»åŠ¡ã€‚GPU è¢«åˆ†æˆä¸åŒè¿›ç¨‹ï¼Œå› ä¸º GPU å¤„ç†æ¥è‡ªå¤šä¸ªä¸åŒåº”ç”¨çš„è¯·æ±‚å¹¶ç»˜åˆ¶åœ¨ç›¸åŒè¡¨é¢ã€‚

&emsp;&emsp;ä¸åŒè¿›ç¨‹æŒ‡å‘æµè§ˆå™¨ UI çš„ä¸åŒéƒ¨åˆ†ï¼š

![browserui](https://king-hcj.github.io/images/browser/browserui.png?raw=true)


&emsp;&emsp;æ›´å¤šè¿›ç¨‹ä¿¡æ¯ï¼Œå¯é€šè¿‡åœ¨æµè§ˆå™¨é¡¶æ å³é”®ï¼Œä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹ã€‚æˆ–è€…å¯ä»¥ç‚¹å‡»å³ä¸Šè§’çš„é€‰é¡¹èœå•å›¾æ ‡ï¼Œé€‰æ‹©æ›´å¤šå·¥å…·ï¼Œç„¶åé€‰æ‹©ä»»åŠ¡ç®¡ç†å™¨ã€‚åœ¨ä»»åŠ¡ç®¡ç†å™¨é¢æ¿ä¼šåˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ä»¥åŠå®ƒä»¬å½“å‰çš„ CPU/å†…å­˜ä½¿ç”¨é‡ã€‚

![task](https://king-hcj.github.io/images/browser/task.png?raw=true)

&emsp;&emsp;å‰æ–‡ä¸­æåˆ°äº† Chrome ä½¿ç”¨å¤šä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œé‚£ä»–æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ

- ç¨³å®šï¼šæœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥æƒ³è±¡æ¯ä¸ªæ ‡ç­¾é¡µéƒ½æœ‰è‡ªå·±çš„æ¸²æŸ“è¿›ç¨‹ã€‚å‡è®¾ä½ æ‰“å¼€äº†ä¸‰ä¸ªæ ‡ç­¾é¡µï¼Œæ¯ä¸ªæ ‡ç­¾é¡µéƒ½æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„æ¸²æŸ“è¿›ç¨‹ã€‚å¦‚æœæŸä¸ªæ ‡ç­¾é¡µå¤±å»å“åº”ï¼Œä½ å¯ä»¥å…³æ‰è¿™ä¸ªæ ‡ç­¾é¡µï¼Œæ­¤æ—¶å…¶å®ƒæ ‡ç­¾é¡µä¾ç„¶è¿è¡Œç€ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚å¦‚æœæ‰€æœ‰æ ‡ç­¾é¡µéƒ½è¿è¡Œåœ¨åŒä¸€è¿›ç¨‹ä¸Šï¼Œé‚£ä¹ˆå½“æŸä¸ªå¤±å»å“åº”ï¼Œæ‰€æœ‰æ ‡ç­¾é¡µéƒ½ä¼šå¤±å»å“åº”ï¼Œæ˜¾ç„¶è¿™æ ·çš„ä½“éªŒä¼šå¾ˆç³Ÿç³•ï¼Œä¸‹é¢æ˜¯å¯¹æ¯”åŠ¨å›¾ï¼Œä¾›ä½ å‚è€ƒã€‚

![tabs](https://king-hcj.github.io/images/browser/tabs.svg?raw=true)

- å®‰å…¨æ€§ä¸æ²™ç®±åŒ–ï¼šæŠŠæµè§ˆå™¨å·¥ä½œåˆ†æˆå¤šä¸ªè¿›ç¨‹çš„å¦ä¸€å¥½å¤„æ˜¯å®‰å…¨æ€§ä¸æ²™ç®±åŒ–ã€‚ç”±äºæ“ä½œç³»ç»Ÿæä¾›äº†é™åˆ¶è¿›ç¨‹æƒé™çš„æ–¹æ³•ï¼Œæµè§ˆå™¨å°±å¯ä»¥ç”¨æ²™ç®±ä¿æŠ¤æŸäº›ç‰¹å®šåŠŸèƒ½çš„è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼ŒChrome æµè§ˆå™¨é™åˆ¶å¤„ç†ä»»æ„ç”¨æˆ·è¾“å…¥çš„è¿›ç¨‹(å¦‚æ¸²æŸ“å™¨è¿›ç¨‹)å¯¹ä»»æ„æ–‡ä»¶çš„è®¿é—®ã€‚

- å…±äº«æ‹·è´ï¼šç”±äºè¿›ç¨‹æœ‰è‡ªå·±çš„ç§æœ‰å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥å®ƒä»¬é€šå¸¸åŒ…å«å…¬å…±åŸºç¡€è®¾æ–½çš„æ‹·è´(å¦‚ V8ï¼Œå®ƒæ˜¯ Chrome çš„ JavaScript å¼•æ“)ã€‚è¿™æ„å‘³ç€ä½¿ç”¨äº†æ›´å¤šçš„å†…å­˜ï¼Œå¦‚æœå®ƒä»¬æ˜¯åŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹ï¼Œå°±æ— æ³•å…±äº«è¿™äº›æ‹·è´ã€‚ä¸ºäº†èŠ‚çœå†…å­˜ï¼ŒChrome å¯¹å¯å¯åŠ¨çš„è¿›ç¨‹æ•°é‡æœ‰æ‰€é™åˆ¶ã€‚å…·ä½“é™åˆ¶æ•°å€¼ä¾è®¾å¤‡å¯æä¾›çš„å†…å­˜ä¸ CPU èƒ½åŠ›è€Œå®šï¼Œä½†æ˜¯**å½“ Chrome è¿è¡Œæ—¶è¾¾åˆ°é™åˆ¶æ—¶ï¼Œä¼šå¼€å§‹åœ¨åŒä¸€ç«™ç‚¹çš„ä¸åŒæ ‡ç­¾é¡µä¸Šè¿è¡ŒåŒä¸€è¿›ç¨‹**ã€‚

&emsp;&emsp;Chrome æ­£åœ¨ç»å†æ¶æ„å˜é©ï¼Œå®ƒè½¬å˜ä¸ºå°†æµè§ˆå™¨ç¨‹åºçš„æ¯ä¸€æ¨¡å—ä½œä¸ºä¸€ä¸ªæœåŠ¡æ¥è¿è¡Œï¼Œä»è€Œå¯ä»¥è½»æ¾å®ç°è¿›ç¨‹çš„æ‹†è§£æˆ–èšåˆã€‚å…·ä½“è¡¨ç°æ˜¯ï¼Œå½“ Chrome è¿è¡Œåœ¨**å¼ºåŠ›ç¡¬ä»¶**ä¸Šæ—¶ï¼Œå®ƒä¼šå°†æ¯ä¸ªæœåŠ¡åˆ†è§£åˆ°ä¸åŒè¿›ç¨‹ä¸­ï¼Œä»è€Œ**æå‡ç¨³å®šæ€§**ï¼Œä½†æ˜¯å¦‚æœ Chrome è¿è¡Œåœ¨èµ„æºæœ‰é™çš„è®¾å¤‡ä¸Šæ—¶ï¼Œå®ƒä¼šå°†æœåŠ¡èšåˆåˆ°ä¸€ä¸ªè¿›ç¨‹ä¸­ä»è€Œ**èŠ‚çœäº†å†…å­˜å ç”¨**ã€‚åœ¨è¿™ä¸€æ¶æ„å˜é©å®ç°å‰ï¼Œç±»ä¼¼çš„æ•´åˆè¿›ç¨‹ä»¥å‡å°‘å†…å­˜ä½¿ç”¨çš„æ–¹æ³•å·²ç»åœ¨ Android ç±»å¹³å°ä¸Šä½¿ç”¨ã€‚

![servicfication](https://king-hcj.github.io/images/browser/servicfication.svg?raw=true)

&emsp;&emsp;Chrome 67 ç‰ˆæœ¬åï¼Œæ¡Œé¢ç‰ˆ Chrome éƒ½é»˜è®¤å¼€å¯äº†ç«™ç‚¹éš”ç¦»ï¼Œæ¯ä¸ªæ ‡ç­¾é¡µçš„ iframe éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„æ¸²æŸ“è¿›ç¨‹ã€‚å¯ç”¨ç«™ç‚¹éš”ç¦»æ˜¯å¤šå¹´æ¥å·¥ç¨‹äººå‘˜åŠªåŠ›çš„ç»“æœã€‚ç«™ç‚¹éš”ç¦»å¹¶ä¸åªæ˜¯åˆ†é…ä¸åŒçš„æ¸²æŸ“è¿›ç¨‹è¿™ä¹ˆç®€å•ã€‚å®ƒä»æ ¹æœ¬ä¸Šæ”¹å˜äº† iframe çš„é€šä¿¡æ–¹å¼ã€‚åœ¨ä¸€ä¸ªé¡µé¢ä¸Šæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œè®© iframe åœ¨ä¸åŒçš„è¿›ç¨‹ä¸Šè¿è¡Œï¼Œè¿™æ„å‘³ç€å¼€å‘è€…å·¥å…·å¿…é¡»åœ¨å¹•åå·¥ä½œï¼Œä»¥ä½¿å®ƒçœ‹èµ·æ¥æ— ç¼ã€‚å³ä½¿è¿è¡Œä¸€ä¸ªç®€å•çš„ Ctrl + F æ¥æŸ¥æ‰¾é¡µé¢ä¸­çš„ä¸€ä¸ªå•è¯ï¼Œä¹Ÿæ„å‘³ç€åœ¨ä¸åŒçš„æ¸²æŸ“å™¨è¿›ç¨‹ä¸­è¿›è¡Œæœç´¢ã€‚ä½ å¯ä»¥çœ‹åˆ°ä¸ºä»€ä¹ˆæµè§ˆå™¨å·¥ç¨‹å¸ˆæŠŠå‘å¸ƒç«™ç‚¹éš”ç¦»åŠŸèƒ½ä½œä¸ºä¸€ä¸ªé‡è¦é‡Œç¨‹ç¢‘ï¼

![isolation](https://king-hcj.github.io/images/browser/isolation.png?raw=true)

- [Chrome ä¸ºä»€ä¹ˆå¤šè¿›ç¨‹è€Œä¸æ˜¯å¤šçº¿ç¨‹ï¼Ÿ](https://www.zhihu.com/question/368712837){:target='_blank'}

### æµè§ˆå™¨æ•´ä½“æ¶æ„

&emsp;&emsp;å¦‚æœæ‚¨æ˜¯ä¸€åå‰ç«¯å·¥ç¨‹å¸ˆï¼Œé‚£ä¹ˆï¼Œé¢è¯•æ—¶ä½ å¤§æ¦‚ç‡ä¼šè¢«é—®åˆ°ï¼šä» URL è¾“å…¥åˆ°é¡µé¢å±•ç°åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿï¼Œå¦‚æœæ‚¨å¯¹è¿™ä¸€è¿‡ç¨‹ä¸å¤ªç†Ÿæ‚‰ï¼Œå»ºè®®çœ‹çœ‹ä¸‹é¢ä¸¤ç¯‡æ–‡ç« ï¼Œå†æ¬¡ä¸è¿‡å¤šèµ˜è¿°ï¼š

  - [ç»å…¸é¢è¯•é¢˜ï¼šä» URL è¾“å…¥åˆ°é¡µé¢å±•ç°åˆ°åº•å‘ç”Ÿä»€ä¹ˆï¼Ÿ](https://zhuanlan.zhihu.com/p/57895541){:target='_blank'}
  - [åœ¨æµè§ˆå™¨è¾“å…¥ URL å›è½¦ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼ˆè¶…è¯¦ç»†ç‰ˆï¼‰](https://zhuanlan.zhihu.com/p/80551769){:target='_blank'}

&emsp;&emsp;æµè§ˆå™¨çš„ä¸»è¦ä»»åŠ¡ä¹‹ä¸€å°±æ˜¯æ¸²æŸ“å±•ç¤ºé¡µé¢ï¼Œä¸åŒçš„æµè§ˆå™¨å†…æ ¸ï¼Œæ¸²æŸ“è¿‡ç¨‹ä¹Ÿä¸å®Œå…¨ç›¸åŒï¼Œä½†å¤§è‡´æµç¨‹éƒ½å·®ä¸å¤šï¼Œä¸‹é¢è¿™å¼ å›¾ç‰‡æ˜¯ç«ç‹æµè§ˆå™¨ï¼ˆFirefoxï¼‰å¼€å‘æ–‡æ¡£ä¸­çš„ä¸€å¼ å›¾ç‰‡ã€‚

![æµè§ˆå™¨æ¶æ„](https://king-hcj.github.io/images/browser/browser-diagram-full.png?raw=true)

&emsp;&emsp;ä¸Šé¢è¿™å¼ å›¾ç‰‡å¤§ä½“æ­ç¤ºäº†æµè§ˆå™¨çš„æ¸²æŸ“å±•ç¤ºæµç¨‹ï¼Œä½†æ˜¯ä»æµè§ˆå™¨çš„æ•´ä½“æ¶æ„ä¸Šæ¥è¯´ï¼Œä¸Šé¢çš„å›¾ç‰‡å±•ç¤ºçš„ä¹Ÿè®¸åªæ˜¯æµè§ˆå™¨ä½“ç³»ä¸­çš„å†°å±±ä¸€è§’ã€‚

&emsp;&emsp;é€šå¸¸æ„ä¹‰ä¸‹ï¼Œæµè§ˆå™¨æ¶æ„æ˜¯å¦‚ä¸‹å›¾è¿™æ ·çš„ï¼š

![æµè§ˆå™¨æ¶æ„](https://king-hcj.github.io/images/browser/BROWSER_ARCHITECTURE.png?raw=true)

#### ç”¨æˆ·ç•Œé¢

&emsp;&emsp;åŒ…æ‹¬åœ°å€æ ã€å‰è¿›/åé€€æŒ‰é’®ã€ä¹¦ç­¾èœå•ç­‰ã€‚é™¤äº†æµè§ˆå™¨ä¸»çª—å£æ˜¾ç¤ºçš„æ‚¨è¯·æ±‚çš„é¡µé¢å¤–ï¼Œå…¶ä»–æ˜¾ç¤ºçš„å„ä¸ªéƒ¨åˆ†éƒ½å±äºç”¨æˆ·ç•Œé¢ã€‚

#### æµè§ˆå™¨å¼•æ“

&emsp;&emsp;ç”¨æˆ·ç•Œé¢å’Œæ¸²æŸ“å¼•æ“çš„æ¡¥æ¢ï¼Œåœ¨ç”¨æˆ·ç•Œé¢å’Œæ¸²æŸ“å¼•æ“ä¹‹é—´ä¼ é€æŒ‡ä»¤ã€‚æµè§ˆå™¨å¼•æ“æä¾›äº†å¼€å§‹åŠ è½½URLèµ„æº å’Œä¸€äº›å…¶ä»–é«˜çº§æ“ä½œæ–¹æ³•ï¼Œæ¯”å¦‚ï¼šé‡æ–°åŠ è½½ã€å‰è¿›ã€åé€€åŠ¨ä½œï¼Œé”™è¯¯ä¿¡æ¯ã€åŠ è½½è¿›åº¦ç­‰ã€‚

#### æ¸²æŸ“å¼•æ“

&emsp;&emsp;è´Ÿè´£æ˜¾ç¤ºè¯·æ±‚çš„å†…å®¹ã€‚å¦‚æœè¯·æ±‚çš„å†…å®¹æ˜¯ HTMLï¼Œå®ƒå°±è´Ÿè´£è§£æ HTML å’Œ CSS å†…å®¹ï¼Œå¹¶å°†è§£æåçš„å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚

&emsp;&emsp;æ‰€è°“æµè§ˆå™¨å†…æ ¸å°±æ˜¯æŒ‡æµè§ˆå™¨æœ€é‡è¦æˆ–è€…è¯´æ ¸å¿ƒçš„éƒ¨åˆ†"Rendering Engine"ï¼Œè¯‘ä¸º"æ¸²æŸ“å¼•æ“"ã€‚è´Ÿè´£å¯¹ç½‘é¡µè¯­æ³•çš„è§£æï¼Œæ¯”å¦‚HTMLã€JavaScriptï¼Œå¹¶æ¸²æŸ“åˆ°ç½‘é¡µä¸Šã€‚æ‰€ä»¥æµè§ˆå™¨å†…æ ¸ä¹Ÿå°±æ˜¯æµè§ˆå™¨æ‰€é‡‡ç”¨çš„æ¸²æŸ“å¼•æ“ï¼Œæ¸²æŸ“å¼•æ“å†³å®šè¿™æµè§ˆå™¨å¦‚ä½•æ˜¾ç¤ºé¡µé¢çš„å†…å®¹å’Œé¡µé¢çš„æ ¼å¼ä¿¡æ¯ã€‚ä¸åŒçš„æµè§ˆå™¨å†…æ ¸å¯¹è¯­æ³•çš„è§£é‡Šä¹Ÿä¸ç›¸åŒï¼Œå› æ­¤åŒä¸€çš„ç½‘é¡µåœ¨ä¸åŒå†…æ ¸çš„æµè§ˆå™¨æ˜¾ç¤ºçš„æ•ˆæœä¹Ÿä¼šæœ‰å·®å¼‚ã€‚è¿™ä¹Ÿå°±æ˜¯ç½‘é¡µç¼–å†™è€…åœ¨ä¸åŒå†…æ ¸çš„æµè§ˆå™¨ä¸­æµ‹è¯•ç½‘é¡µæ˜¾ç¤ºæ•ˆæœçš„åŸå› ã€‚

![RENDERING ENGINE](https://king-hcj.github.io/images/browser/browser_inner.png?raw=true)

&emsp;&emsp;æµè§ˆå™¨å†…æ ¸ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªæŠ€æœ¯åˆ†æ”¯ï¼šæ’ç‰ˆæ¸²æŸ“å¼•æ“ã€ JavaScriptå¼•æ“ï¼Œä»¥åŠå…¶ä»–ã€‚

&emsp;&emsp;æ’ç‰ˆå¼•æ“ï¼š

- KHTMLï¼šKHTMLï¼Œæ˜¯HTMLç½‘é¡µæ’ç‰ˆå¼•æ“ä¹‹ä¸€ï¼Œç”±KDEæ‰€å¼€å‘ã€‚KHTMLæ‹¥æœ‰é€Ÿåº¦å¿«æ·çš„ä¼˜ç‚¹ï¼Œä½†å¯¹é”™è¯¯è¯­æ³•çš„å®¹å¿åº¦åˆ™æ¯”Mozillaäº§å“æ‰€ä½¿ç”¨çš„Geckoå¼•æ“å°ã€‚è‹¹æœç”µè„‘äº2002å¹´é‡‡çº³äº†KHTMLï¼Œä½œä¸ºå¼€å‘Safariæµè§ˆå™¨ä¹‹ç”¨ï¼Œå¹¶å‘å¸ƒæ‰€ä¿®æ”¹çš„æœ€æ–°åŠè¿‡å»ç‰ˆæœ¬æºä»£ç ã€‚åæ¥å‘è¡¨äº†å¼€æ”¾æºä»£ç çš„WebCoreåŠWebKitå¼•æ“ï¼Œå®ƒä»¬å‡æ˜¯KHTMLçš„è¡ç”Ÿäº§å“ã€‚
- WebCoreï¼šWebCoreæ˜¯è‹¹æœå…¬å¸å¼€å‘çš„æ’ç‰ˆå¼•æ“ï¼Œå®ƒæ˜¯åœ¨å¦å¤–ä¸€ä¸ªæ’ç‰ˆå¼•æ“â€œKHTMLâ€çš„åŸºç¡€ä¸Šè€Œæ¥çš„ã€‚ä½¿ç”¨WebCoreçš„ä¸»è¦æœ‰Safariæµè§ˆå™¨ã€‚

&emsp;&emsp;æµè§ˆå™¨çš„å†…æ ¸å¼•æ“ï¼ŒåŸºæœ¬ä¸Šæ˜¯å››åˆ†å¤©ä¸‹ï¼š

- Trident: IE ä»¥Trident ä½œä¸ºå†…æ ¸å¼•æ“;
- Gecko: Firefox æ˜¯åŸºäº Gecko å¼€å‘;
- WebKit: å¼€æºå¼•æ“ï¼ŒSafari, Google Chrome,å‚²æ¸¸3,çŒè±¹æµè§ˆå™¨,ç™¾åº¦æµè§ˆå™¨ operaæµè§ˆå™¨ åŸºäº Webkit å¼€å‘ã€‚
- Presto: Operaçš„å†…æ ¸ï¼Œä½†ç”±äºå¸‚åœºé€‰æ‹©é—®é¢˜ï¼Œä¸»è¦åº”ç”¨åœ¨æ‰‹æœºå¹³å°--Opera miniã€‚ï¼ˆ2013å¹´2æœˆOperaå®£å¸ƒè½¬å‘WebKitå¼•æ“ï¼Œ2013å¹´4æœˆOperaå®£å¸ƒæ”¾å¼ƒWEBKITï¼Œè·ŸéšGOOGLEçš„æ–°å¼€å‘çš„blinkå¼•æ“ã€‚ï¼‰

![WebKit](https://king-hcj.github.io/images/browser/WebKit.png?raw=true)

&emsp;&emsp;WebKitå°±æ˜¯ä¸€ä¸ªé¡µé¢æ¸²æŸ“ä»¥åŠé€»è¾‘å¤„ç†å¼•æ“ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆæŠŠHTMLã€JavaScriptã€CSSè¿™â€œä¸‰é©¾é©¬è½¦â€ä½œä¸ºè¾“å…¥ï¼Œç»è¿‡WebKitçš„å¤„ç†ï¼Œå°±è¾“å‡ºæˆäº†æˆ‘ä»¬èƒ½çœ‹åˆ°ä»¥åŠæ“ä½œçš„Webé¡µé¢ã€‚ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼ŒWebKitç”±å›¾ä¸­æ¡†ä½çš„å››ä¸ªéƒ¨åˆ†ç»„æˆã€‚è€Œå…¶ä¸­æœ€ä¸»è¦çš„å°±æ˜¯WebCoreå’ŒJSCoreï¼ˆæˆ–è€…æ˜¯å…¶å®ƒJSå¼•æ“ï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒWebKit Embedding APIæ˜¯è´Ÿè´£æµè§ˆå™¨UIä¸WebKitè¿›è¡Œäº¤äº’çš„éƒ¨åˆ†ï¼Œè€ŒWebKit Portsåˆ™æ˜¯è®©Webkitæ›´åŠ æ–¹ä¾¿çš„ç§»æ¤åˆ°å„ä¸ªæ“ä½œç³»ç»Ÿã€å¹³å°ä¸Šï¼Œæä¾›çš„ä¸€äº›è°ƒç”¨Native Libraryçš„æ¥å£ï¼Œæ¯”å¦‚åœ¨æ¸²æŸ“å±‚é¢ï¼Œåœ¨iOSç³»ç»Ÿä¸­ï¼ŒSafariæ˜¯äº¤ç»™CoreGraphicså¤„ç†ï¼Œè€Œåœ¨Androidç³»ç»Ÿä¸­ï¼ŒWebkitåˆ™æ˜¯äº¤ç»™Skiaã€‚

&emsp;&emsp;WebKitçš„æ¸²æŸ“æµç¨‹ï¼š

![WebKit-Rendering](https://king-hcj.github.io/images/browser/WebKit-Rendering.png?raw=true)

&emsp;&emsp;é¦–å…ˆæµè§ˆå™¨é€šè¿‡URLå®šä½åˆ°äº†ä¸€å †ç”±HTMLã€CSSã€JSç»„æˆçš„èµ„æºæ–‡ä»¶ï¼Œé€šè¿‡åŠ è½½å™¨ï¼ˆè¿™ä¸ªåŠ è½½å™¨çš„å®ç°ä¹Ÿå¾ˆå¤æ‚ï¼Œåœ¨æ­¤ä¸å¤šèµ˜è¿°ï¼‰æŠŠèµ„æºæ–‡ä»¶ç»™WebCoreã€‚ä¹‹åHTML Parserä¼šæŠŠHTMLè§£ææˆDOMæ ‘ï¼ŒCSS Parserä¼šæŠŠCSSè§£ææˆCSSOMæ ‘ã€‚æœ€åæŠŠè¿™ä¸¤æ£µæ ‘åˆå¹¶ï¼Œç”Ÿæˆæœ€ç»ˆéœ€è¦çš„æ¸²æŸ“æ ‘ï¼Œå†ç»è¿‡å¸ƒå±€ï¼Œä¸å…·ä½“WebKit Portsçš„æ¸²æŸ“æ¥å£ï¼ŒæŠŠæ¸²æŸ“æ ‘æ¸²æŸ“è¾“å‡ºåˆ°å±å¹•ä¸Šï¼Œæˆä¸ºäº†æœ€ç»ˆå‘ˆç°åœ¨ç”¨æˆ·é¢å‰çš„Webé¡µé¢ã€‚

&emsp;&emsp;éœ€è¦ç•¥ä½œè¡¥å……çš„æ˜¯ï¼Œæˆ‘ä»¬ç»å¸¸è¿˜ä¼šå¬åˆ°Chromiumã€Webkit2ã€Blinkè¿™äº›å¼•æ“ã€‚

- Chromiumï¼šåŸºäºwebkitï¼Œ08å¹´å¼€å§‹ä½œä¸ºChromeçš„å¼•æ“ï¼ŒChromiumæµè§ˆå™¨æ˜¯Chromeçš„å®éªŒç‰ˆï¼Œå®éªŒæ–°ç‰¹æ€§ã€‚å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºï¼šChromiumä¸ºå®éªŒç‰ˆï¼Œå…·æœ‰ä¼—å¤šæ–°ç‰¹æ€§ï¼›Chromeä¸ºç¨³å®šç‰ˆã€‚

![chromium æ¶æ„](https://king-hcj.github.io/images/browser/chromium.jpeg?raw=true)

> å›¾ç‰‡æ¥æºï¼š[ä¸‡å­—è¯¦æ–‡ï¼šæ·±å…¥ç†è§£æµè§ˆå™¨åŸç†](https://zhuanlan.zhihu.com/p/96986818){:target='_blank'}

- Webkit2ï¼š2010å¹´éšOS X Lionä¸€èµ·é¢ä¸–ã€‚WebCoreå±‚é¢å®ç°è¿›ç¨‹éš”ç¦»ä¸Googleçš„æ²™ç®±è®¾è®¡å­˜åœ¨å†²çªã€‚
- Blinkï¼šåŸºäºWebkit2åˆ†æ”¯ï¼Œæ˜¯WebKitä¸­WebCoreç»„ä»¶çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œ13å¹´è°·æ­Œå¼€å§‹ä½œä¸ºChrome 28çš„å¼•æ“é›†æˆåœ¨Chromiumæµè§ˆå™¨é‡Œã€‚Androidçš„WebViewåŒæ ·åŸºäºWebkit2ã€‚Operaï¼ˆ15åŠå¾€åç‰ˆæœ¬ï¼‰å’ŒYandexæµè§ˆå™¨ä¸­ä¹Ÿåœ¨ä½¿ç”¨ã€‚

![khtml](https://king-hcj.github.io/images/browser/khtml.png?raw=true)

#### ç½‘ç»œ

&emsp;&emsp;ç”¨äºç½‘ç»œè°ƒç”¨ï¼Œæ¯”å¦‚ HTTP è¯·æ±‚ã€‚å…¶æ¥å£ä¸å¹³å°æ— å…³ï¼Œå¹¶ä¸ºæ‰€æœ‰å¹³å°æä¾›åº•å±‚å®ç°ï¼Œè´Ÿè´£ç½‘ç»œé€šä¿¡å’Œå®‰å…¨ã€‚

#### JavaScript è§£é‡Šå™¨

&emsp;&emsp;ç”¨äºè§£æå’Œæ‰§è¡Œ JavaScript ä»£ç ï¼Œæ‰§è¡Œç»“æœå°†ä¼ é€’ç»™æ¸²æŸ“å¼•æ“æ¥å±•ç¤ºã€‚

#### ç”¨æˆ·ç•Œé¢åç«¯

&emsp;&emsp;ç”¨äºç»˜åˆ¶åŸºæœ¬çš„çª—å£å°éƒ¨ä»¶ï¼Œæ¯”å¦‚ç»„åˆæ¡†å’Œçª—å£ã€‚å…¶å…¬å¼€äº†ä¸å¹³å°æ— å…³çš„é€šç”¨æ¥å£ï¼Œè€Œåœ¨åº•å±‚ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·ç•Œé¢æ–¹æ³•ã€‚

#### æ•°æ®å­˜å‚¨

&emsp;&emsp;è¿™æ˜¯æŒä¹…å±‚ã€‚æµè§ˆå™¨éœ€è¦åœ¨ç¡¬ç›˜ä¸Šä¿å­˜å„ç§æ•°æ®ï¼Œä¾‹å¦‚ Cookieã€‚æ–°çš„ HTML è§„èŒƒ (HTML5) å®šä¹‰äº†â€œç½‘ç»œæ•°æ®åº“â€ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´ï¼ˆä½†æ˜¯è½»ä¾¿ï¼‰çš„æµè§ˆå™¨å†…æ•°æ®åº“ã€‚

### æ±‚åŒå­˜å¼‚çš„æµè§ˆå™¨æ¶æ„

&emsp;&emsp;FIREFOXæ¶æ„ï¼š

![FIREFOXæ¶æ„](https://king-hcj.github.io/images/browser/FIREFOX_ARCHITECTURE.png?raw=true)

&emsp;&emsp;CHROMEæ¶æ„ï¼š

![CHROMEæ¶æ„](https://king-hcj.github.io/images/browser/CHROME_ARCHITECTURE.png?raw=true)

&emsp;&emsp;IEæ¶æ„ï¼š

![IEæ¶æ„](https://king-hcj.github.io/images/browser/IE_ARCHITECTURE.png?raw=true)

> å‚è€ƒèµ„æ–™ï¼š[Internet Explorer Architecture](https://docs.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa741312(v=vs.85)){:target='_blank'}

### å‚è€ƒèµ„æ–™

- [PPT - Browser Architecture](https://sangbui.com/sb-files/BrowserArchitecture_ClientSide.pdf){:target='_blank'}
- [Inside look at modern web browser (part 1)](https://developers.google.com/web/updates/2018/09/inside-browser-part1){:target='_blank'}

## æµè§ˆå™¨åŸºæœ¬åŸç†

- [Design Documents](https://www.chromium.org/developers/design-documents){:target='_blank'}
- [æµè§ˆå™¨è¿è¡ŒåŸç†ã€‘å…¨ç¨‹é«˜èƒ½åŠ¨ç”»è§£ææµè§ˆå™¨è¿è¡Œæœºåˆ¶ï¼](https://www.zhihu.com/zvideo/1318938663649800192){:target='_blank'}
  - https://www.zhihu.com/people/li-ming-44-11/zvideos
  - [Chromium_doc_zh](https://ahangchen.gitbooks.io/chromium_doc_zh/content/zh/){:target='_blank'}
- [ä¸‡å­—è¯¦æ–‡ï¼šæ·±å…¥ç†è§£æµè§ˆå™¨åŸç†](https://zhuanlan.zhihu.com/p/96986818){:target='_blank'}

### Chrome V8

&emsp;&emsp;å…³äºChrome V8ï¼Œç¬”è€…æ›¾æœ‰ä¸€ç¯‡ç¬”è®°åšäº†æ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»ï¼Œå…¨æ–‡è„‰ç»œå¦‚ä¸‹ï¼Œæ„Ÿå…´è¶£å¯ä»¥[å‚è€ƒé˜…è¯»](https://segmentfault.com/a/1190000037435824){:target='_blank'}ã€‚

![Chrome-V8](https://king-hcj.github.io/images/posts/arts/Chrome-V8.png?raw=true)

&emsp;&emsp;V8 æ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„é¡¹ç›®ï¼Œæœ‰è¶…è¿‡ 100 ä¸‡è¡Œ C++ä»£ç ã€‚å®ƒç”±è®¸å¤šå­æ¨¡å—æ„æˆï¼Œå…¶ä¸­è¿™ 4 ä¸ªæ¨¡å—æ˜¯æœ€é‡è¦çš„ï¼š

- [Parser](https://v8.dev/blog/scanner){:target='\_blank'}ï¼šè´Ÿè´£å°† JavaScript æºç è½¬æ¢ä¸º Abstract Syntax Tree (AST)
  > ç¡®åˆ‡çš„è¯´ï¼Œåœ¨â€œParserâ€å°† JavaScript æºç è½¬æ¢ä¸º ASTå‰ï¼Œè¿˜æœ‰ä¸€ä¸ªå«â€Scannerâ€œçš„è¿‡ç¨‹ï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹ï¼š
  ![Scanner](https://king-hcj.github.io/images/posts/arts/overview.png?raw=true)

- [Ignition](https://v8.dev/docs/ignition){:target='\_blank'}ï¼šinterpreterï¼Œå³è§£é‡Šå™¨ï¼Œè´Ÿè´£å°† AST è½¬æ¢ä¸º Bytecodeï¼Œè§£é‡Šæ‰§è¡Œ Bytecodeï¼›åŒæ—¶æ”¶é›† TurboFan ä¼˜åŒ–ç¼–è¯‘æ‰€éœ€çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å‡½æ•°å‚æ•°çš„ç±»å‹ï¼›è§£é‡Šå™¨æ‰§è¡Œæ—¶ä¸»è¦æœ‰å››ä¸ªæ¨¡å—ï¼Œå†…å­˜ä¸­çš„å­—èŠ‚ç ã€å¯„å­˜å™¨ã€æ ˆã€å †ã€‚

- [TurboFan](https://v8.dev/docs/turbofan){:target='\_blank'}ï¼šcompilerï¼Œå³ç¼–è¯‘å™¨ï¼Œåˆ©ç”¨ Ignition æ‰€æ”¶é›†çš„ç±»å‹ä¿¡æ¯ï¼Œå°† Bytecode è½¬æ¢ä¸ºä¼˜åŒ–çš„æ±‡ç¼–ä»£ç ï¼›
- [Orinoco](https://v8.dev/blog/trash-talk){:target='\_blank'}ï¼šgarbage collectorï¼Œåƒåœ¾å›æ”¶æ¨¡å—ï¼Œè´Ÿè´£å°†ç¨‹åºä¸å†éœ€è¦çš„å†…å­˜ç©ºé—´å›æ”¶ã€‚

&emsp;&emsp;å…¶ä¸­ï¼ŒParserï¼ŒIgnition ä»¥åŠ TurboFan å¯ä»¥å°† JS æºç ç¼–è¯‘ä¸ºæ±‡ç¼–ä»£ç ï¼Œå…¶æµç¨‹å›¾å¦‚ä¸‹ï¼š

![V8æµç¨‹](https://king-hcj.github.io/images/posts/arts/ignition-turbofan-pipeline.jpeg?raw=true)

&emsp;&emsp;ç®€å•åœ°è¯´ï¼ŒParser å°† JS æºç è½¬æ¢ä¸º ASTï¼Œç„¶å Ignition å°† AST è½¬æ¢ä¸º Bytecodeï¼Œæœ€å TurboFan å°† Bytecode è½¬æ¢ä¸ºç»è¿‡ä¼˜åŒ–çš„ Machine Code(å®é™…ä¸Šæ˜¯æ±‡ç¼–ä»£ç )ã€‚

- å¦‚æœå‡½æ•°æ²¡æœ‰è¢«è°ƒç”¨ï¼Œåˆ™ V8 ä¸ä¼šå»ç¼–è¯‘å®ƒã€‚
- å¦‚æœå‡½æ•°åªè¢«è°ƒç”¨ 1 æ¬¡ï¼Œåˆ™ Ignition å°†å…¶ç¼–è¯‘ Bytecode å°±ç›´æ¥è§£é‡Šæ‰§è¡Œäº†ã€‚TurboFan ä¸ä¼šè¿›è¡Œä¼˜åŒ–ç¼–è¯‘ï¼Œå› ä¸ºå®ƒéœ€è¦ Ignition æ”¶é›†å‡½æ•°æ‰§è¡Œæ—¶çš„ç±»å‹ä¿¡æ¯ã€‚è¿™å°±è¦æ±‚å‡½æ•°è‡³å°‘éœ€è¦æ‰§è¡Œ 1 æ¬¡ï¼ŒTurboFan æ‰æœ‰å¯èƒ½è¿›è¡Œä¼˜åŒ–ç¼–è¯‘ã€‚
- å¦‚æœå‡½æ•°è¢«è°ƒç”¨å¤šæ¬¡ï¼Œåˆ™å®ƒæœ‰å¯èƒ½ä¼šè¢«è¯†åˆ«ä¸º**çƒ­ç‚¹å‡½æ•°**ï¼Œä¸” Ignition æ”¶é›†çš„ç±»å‹ä¿¡æ¯è¯æ˜å¯ä»¥è¿›è¡Œä¼˜åŒ–ç¼–è¯‘çš„è¯ï¼Œè¿™æ—¶ TurboFan åˆ™ä¼šå°† Bytecode ç¼–è¯‘ä¸º Optimized Machine Codeï¼ˆå·²ä¼˜åŒ–çš„æœºå™¨ç ï¼‰ï¼Œä»¥æé«˜ä»£ç çš„æ‰§è¡Œæ€§èƒ½ã€‚

&emsp;&emsp;å›¾ç‰‡ä¸­çš„çº¢è‰²è™šçº¿æ˜¯é€†å‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ Optimized Machine Code ä¼šè¢«è¿˜åŸä¸º Bytecodeï¼Œè¿™ä¸ªè¿‡ç¨‹å«åš **Deoptimization**ã€‚è¿™æ˜¯å› ä¸º Ignition æ”¶é›†çš„ä¿¡æ¯å¯èƒ½æ˜¯é”™è¯¯çš„ï¼Œæ¯”å¦‚ add å‡½æ•°çš„å‚æ•°ä¹‹å‰æ˜¯æ•´æ•°ï¼Œåæ¥åˆå˜æˆäº†å­—ç¬¦ä¸²ã€‚ç”Ÿæˆçš„ Optimized Machine Code å·²ç»å‡å®š add å‡½æ•°çš„å‚æ•°æ˜¯æ•´æ•°ï¼Œé‚£å½“ç„¶æ˜¯é”™è¯¯çš„ï¼Œäºæ˜¯éœ€è¦è¿›è¡Œ Deoptimizationã€‚

```js
function add(x, y) {
  return x + y;
}

add(1, 2);
add('1', '2');
```

&emsp;&emsp;åœ¨è¿è¡Œ Cã€C++ä»¥åŠ Java ç­‰ç¨‹åºä¹‹å‰ï¼Œéœ€è¦è¿›è¡Œç¼–è¯‘ï¼Œä¸èƒ½ç›´æ¥æ‰§è¡Œæºç ï¼›ä½†å¯¹äº JavaScript æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰§è¡Œæºç (æ¯”å¦‚ï¼šnode test.js)ï¼Œå®ƒæ˜¯åœ¨è¿è¡Œçš„æ—¶å€™å…ˆç¼–è¯‘å†æ‰§è¡Œï¼Œè¿™ç§æ–¹å¼è¢«ç§°ä¸º**å³æ—¶ç¼–è¯‘(Just-in-time compilation)**ï¼Œç®€ç§°ä¸º JITã€‚å› æ­¤ï¼ŒV8 ä¹Ÿå±äº **JIT ç¼–è¯‘å™¨**ã€‚

### JavaScriptCore

&emsp;&emsp;JSCoreæ˜¯WebKité»˜è®¤å†…åµŒçš„JSå¼•æ“ï¼Œä¹‹æ‰€ä»¥è¯´æ˜¯é»˜è®¤å†…åµŒï¼Œæ˜¯å› ä¸ºå¾ˆå¤šåŸºäºWebKitåˆ†æ”¯å¼€å‘çš„æµè§ˆå™¨å¼•æ“éƒ½å¼€å‘äº†è‡ªå®¶çš„JSå¼•æ“ï¼Œå…¶ä¸­æœ€å‡ºåçš„å°±æ˜¯Chromeçš„V8ã€‚è¿™äº›JSå¼•æ“çš„ä½¿å‘½éƒ½ç›¸åŒï¼Œé‚£å°±æ˜¯è§£é‡Šæ‰§è¡ŒJSè„šæœ¬ã€‚è€Œä»ä¸Šé¢çš„æ¸²æŸ“æµç¨‹å›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒJSå’ŒDOMæ ‘ä¹‹é—´å­˜åœ¨ç€äº’ç›¸å…³è”ï¼Œè¿™æ˜¯å› ä¸ºæµè§ˆå™¨ä¸­çš„JSè„šæœ¬æœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯æ“ä½œDOMæ ‘ï¼Œå¹¶ä¸ä¹‹äº¤äº’ã€‚æˆ‘ä»¬ä¹Ÿé€šè¿‡ä¸€å¼ å›¾çœ‹ä¸‹å®ƒçš„å·¥ä½œæµç¨‹:

![JavaScriptCore](https://king-hcj.github.io/images/browser/jsCore.png?raw=true)

&emsp;&emsp;å¯ä»¥çœ‹åˆ°ï¼Œç›¸æ¯”é™æ€ç¼–è¯‘è¯­è¨€ç”Ÿæˆè¯­æ³•æ ‘ä¹‹åï¼Œè¿˜éœ€è¦è¿›è¡Œé“¾æ¥ï¼Œè£…è½½ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ç­‰æ“ä½œï¼Œè§£é‡Šå‹è¯­è¨€åœ¨æµç¨‹ä¸Šè¦ç®€åŒ–å¾ˆå¤šã€‚è¿™å¼ æµç¨‹å›¾å³è¾¹ç”»æ¡†çš„éƒ¨åˆ†å°±æ˜¯JSCoreçš„ç»„æˆéƒ¨åˆ†ï¼šLexerã€Parserã€LLIntä»¥åŠJITçš„éƒ¨åˆ†ï¼ˆä¹‹æ‰€ä»¥JITçš„éƒ¨åˆ†æ˜¯ç”¨æ©™è‰²æ ‡æ³¨ï¼Œæ˜¯å› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„JSCoreä¸­éƒ½æœ‰JITéƒ¨åˆ†ï¼‰ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ­é…æ•´ä¸ªå·¥ä½œæµç¨‹ä»‹ç»æ¯ä¸€éƒ¨åˆ†ï¼Œå®ƒä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼šè¯æ³•åˆ†æã€è¯­æ³•åˆ†æä»¥åŠè§£é‡Šæ‰§è¡Œã€‚

> PSï¼šä¸¥æ ¼çš„è®²ï¼Œè¯­è¨€æœ¬èº«å¹¶ä¸å­˜åœ¨ç¼–è¯‘å‹æˆ–è€…æ˜¯è§£é‡Šå‹ï¼Œå› ä¸ºè¯­è¨€åªæ˜¯ä¸€äº›æŠ½è±¡çš„å®šä¹‰ä¸çº¦æŸï¼Œå¹¶ä¸è¦æ±‚å…·ä½“çš„å®ç°ï¼Œæ‰§è¡Œæ–¹å¼ã€‚è¿™é‡Œè®²JSæ˜¯ä¸€é—¨â€œè§£é‡Šå‹è¯­è¨€â€åªæ˜¯JSä¸€èˆ¬æ˜¯è¢«JSå¼•æ“åŠ¨æ€è§£é‡Šæ‰§è¡Œï¼Œè€Œå¹¶ä¸æ˜¯è¯­è¨€æœ¬èº«çš„å±æ€§ã€‚

<!-- - [æ·±å…¥å‰–æ JavaScriptCore](https://ming1016.github.io/2018/04/21/deeply-analyse-javascriptcore/){:target='\_blank'} -->
- [æ·±å…¥ç†è§£ JSCore](https://tech.meituan.com/2018/08/23/deep-understanding-of-jscore.html){:target='\_blank'}ã€å…³æ³¨ä¸€ä¸‹å‚è€ƒèµ„æ–™ã€‘
- [JavaScriptCore å…¨é¢è§£æ](https://juejin.cn/post/6844903765582053384){:target='\_blank'}
- [æ·±å…¥æµ…å‡º JavaScriptCore](https://www.jianshu.com/p/ac534f508fb0){:target='\_blank'}

### æµè§ˆå™¨ä¸JavaScript

- åœ¨ **V8 å‡ºç°ä¹‹å‰ï¼Œæ‰€æœ‰çš„ JavaScript è™šæ‹Ÿæœºæ‰€é‡‡ç”¨çš„éƒ½æ˜¯è§£é‡Šæ‰§è¡Œçš„æ–¹å¼ï¼Œè¿™æ˜¯ JavaScript æ‰§è¡Œé€Ÿåº¦è¿‡æ…¢çš„ä¸€ä¸ªä¸»è¦åŸå› **ã€‚è€Œ V8 ç‡å…ˆå¼•å…¥äº†**å³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰**çš„**åŒè½®é©±åŠ¨**çš„è®¾è®¡ï¼ˆæ··åˆä½¿ç”¨ç¼–è¯‘å™¨å’Œè§£é‡Šå™¨çš„æŠ€æœ¯ï¼‰ï¼Œè¿™æ˜¯ä¸€ç§æƒè¡¡ç­–ç•¥ï¼Œ**æ··åˆç¼–è¯‘æ‰§è¡Œå’Œè§£é‡Šæ‰§è¡Œè¿™ä¸¤ç§æ‰‹æ®µ**ï¼Œç»™ JavaScript çš„æ‰§è¡Œé€Ÿåº¦å¸¦æ¥äº†æå¤§çš„æå‡ã€‚V8 å‡ºç°ä¹‹åï¼Œå„å¤§å‚å•†ä¹Ÿéƒ½åœ¨è‡ªå·±çš„ JavaScript è™šæ‹Ÿæœºä¸­å¼•å…¥äº† JIT æœºåˆ¶ï¼Œæ‰€ä»¥ç›®å‰å¸‚é¢ä¸Š JavaScript è™šæ‹Ÿæœºéƒ½æœ‰ç€ç±»ä¼¼çš„æ¶æ„ã€‚å¦å¤–ï¼Œ**V8 ä¹Ÿæ˜¯æ—©äºå…¶ä»–è™šæ‹Ÿæœºå¼•å…¥äº†æƒ°æ€§ç¼–è¯‘ã€å†…è”ç¼“å­˜ã€éšè—ç±»ç­‰æœºåˆ¶ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–äº† JavaScript ä»£ç çš„ç¼–è¯‘æ‰§è¡Œæ•ˆç‡**ã€‚
- V8 æ‰§è¡Œä¸€æ®µ JavaScript çš„æµç¨‹å›¾ï¼š

  ![V8æ‰§è¡Œä¸€æ®µJavaScriptæµç¨‹å›¾](https://king-hcj.github.io/images/posts/arts/v8.jpg?raw=true)

- **V8 æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè™šæ‹Ÿæœº**ï¼Œå› ä¸ºè®¡ç®—æœºåªèƒ½è¯†åˆ«äºŒè¿›åˆ¶æŒ‡ä»¤ï¼Œæ‰€ä»¥è¦è®©è®¡ç®—æœºæ‰§è¡Œä¸€æ®µé«˜çº§è¯­è¨€é€šå¸¸æœ‰ä¸¤ç§æ‰‹æ®µï¼š
  - ç¬¬ä¸€ç§æ˜¯å°†é«˜çº§ä»£ç è½¬æ¢ä¸ºäºŒè¿›åˆ¶ä»£ç ï¼Œå†è®©è®¡ç®—æœºå»æ‰§è¡Œï¼›
  - å¦å¤–ä¸€ç§æ–¹å¼æ˜¯åœ¨è®¡ç®—æœºå®‰è£…ä¸€ä¸ªè§£é‡Šå™¨ï¼Œå¹¶ç”±è§£é‡Šå™¨æ¥è§£é‡Šæ‰§è¡Œã€‚
- è§£é‡Šæ‰§è¡Œå’Œç¼–è¯‘æ‰§è¡Œéƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œ**è§£é‡Šæ‰§è¡Œå¯åŠ¨é€Ÿåº¦å¿«ï¼Œä½†æ˜¯æ‰§è¡Œæ—¶é€Ÿåº¦æ…¢ï¼Œè€Œç¼–è¯‘æ‰§è¡Œå¯åŠ¨é€Ÿåº¦æ…¢ï¼Œä½†æ˜¯æ‰§è¡Œé€Ÿåº¦å¿«**ã€‚ä¸ºäº†å……åˆ†åœ°åˆ©ç”¨è§£é‡Šæ‰§è¡Œå’Œç¼–è¯‘æ‰§è¡Œçš„ä¼˜ç‚¹ï¼Œè§„é¿å…¶ç¼ºç‚¹ï¼Œ**V8 é‡‡ç”¨äº†ä¸€ç§æƒè¡¡ç­–ç•¥ï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­é‡‡ç”¨äº†è§£é‡Šæ‰§è¡Œçš„ç­–ç•¥ï¼Œä½†æ˜¯å¦‚æœæŸæ®µä»£ç çš„æ‰§è¡Œé¢‘ç‡è¶…è¿‡ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆ V8 å°±ä¼šé‡‡ç”¨ä¼˜åŒ–ç¼–è¯‘å™¨å°†å…¶ç¼–è¯‘æˆæ‰§è¡Œæ•ˆç‡æ›´åŠ é«˜æ•ˆçš„æœºå™¨ä»£ç **ã€‚
- æ€»ç»“ï¼š

  **V8 æ‰§è¡Œä¸€æ®µ JavaScript ä»£ç æ‰€ç»å†çš„ä¸»è¦æµç¨‹**åŒ…æ‹¬ï¼š

  - åˆå§‹åŒ–åŸºç¡€ç¯å¢ƒï¼›
  - è§£ææºç ç”Ÿæˆ AST å’Œä½œç”¨åŸŸï¼›
  - ä¾æ® AST å’Œä½œç”¨åŸŸç”Ÿæˆå­—èŠ‚ç ï¼›
  - è§£é‡Šæ‰§è¡Œå­—èŠ‚ç ï¼›
  - ç›‘å¬çƒ­ç‚¹ä»£ç ï¼›
  - ä¼˜åŒ–çƒ­ç‚¹ä»£ç ä¸ºäºŒè¿›åˆ¶çš„æœºå™¨ä»£ç ï¼›
  - åä¼˜åŒ–ç”Ÿæˆçš„äºŒè¿›åˆ¶æœºå™¨ä»£ç ã€‚

&emsp;&emsp;Chrome V8 çš„äº‹ä»¶æœºåˆ¶ï¼š

![v8-ui](https://king-hcj.github.io/images/posts/arts/v8-ui.jpg?raw=true)

- [JavaScript å¼•æ“ V8 æ‰§è¡Œæµç¨‹æ¦‚è¿°](http://blog.itpub.net/69912579/viewspace-2668277/){:target='_blank'}ã€å›¾æ›´å¥½ä¸€ç‚¹ã€‘
- [V8 Ignitionï¼šJS å¼•æ“ä¸å­—èŠ‚ç çš„ä¸è§£ä¹‹ç¼˜](https://cnodejs.org/topic/59084a9cbbaf2f3f569be482){:target='_blank'}
- [è®¤è¯† V8 å¼•æ“](https://zhuanlan.zhihu.com/p/27628685){:target='_blank'}
- [V8å¼•æ“è¯¦è§£ï¼ˆä¸€ï¼‰â€”â€”æ¦‚è¿°](https://juejin.cn/post/6844904137792962567){:target='_blank'}

## æµè§ˆå™¨çš„ä¸åŒå½¢æ€
### WebView

&emsp;&emsp;WebView æ˜¯ä¸€ç§åµŒå…¥å¼æµè§ˆå™¨ï¼ŒåŸç”Ÿåº”ç”¨å¯ä»¥ç”¨å®ƒæ¥å±•ç¤ºç½‘ç»œå†…å®¹ã€‚WebView åªæ˜¯ä¸€ä¸ªå¯è§†åŒ–çš„ç»„ä»¶/æ§ä»¶/å¾®ä»¶ç­‰ã€‚

&emsp;&emsp;è¿è¡Œåœ¨ä½ çš„ WebView ä¸­çš„ JavaScript æœ‰èƒ½åŠ›è°ƒç”¨åŸç”Ÿçš„ç³»ç»Ÿ APIã€‚è¿™æ„å‘³ç€ä½ ä¸å¿…å—åˆ° Web ä»£ç é€šå¸¸å¿…é¡»éµå®ˆçš„ä¼ ç»Ÿæµè§ˆå™¨å®‰å…¨æ²™ç®±çš„é™åˆ¶ã€‚ä¸‹å›¾è§£é‡Šäº†ä½¿è¿™æ ·æˆä¸ºå¯èƒ½çš„æ¶æ„å·®å¼‚ï¼š

![webview and webapp](https://king-hcj.github.io/images/browser/webview_webapp.png?raw=true)

&emsp;&emsp;WebView éå¸¸æ£’ã€‚è™½ç„¶çœ‹èµ·æ¥å®ƒä»¬çœ‹èµ·æ¥åƒæ˜¯å®Œå…¨ç‰¹æ®Šå’Œç‹¬ç‰¹çš„é‡å…½ï¼Œè®°ä½ï¼Œå®ƒä»¬åªä¸è¿‡æ˜¯ä¸€ä¸ªåœ¨åº”ç”¨ä¸­è®¾ç½®å¥½ä½ç½®å’Œå¤§å°çš„æµè§ˆå™¨ï¼Œè€Œä¸”ä¸ä¼šæ”¾ç½®ä»»ä½•èŠ±å“¨çš„ UIã€‚å…¶å®è¿˜æœ‰æ›´å¤šä¸œè¥¿ï¼Œä½†è¿™æ˜¯å®ƒçš„ç²¾é«“ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé™¤éä½ è¦è°ƒç”¨åŸç”Ÿ APIï¼Œå¦åˆ™ä¸å¿…åœ¨ WebView ä¸­ä¸“é—¨æµ‹è¯• Web åº”ç”¨ã€‚é™¤æ­¤ä»¥å¤–ï¼Œä½ åœ¨ WebView ä¸­çœ‹åˆ°çš„å†…å®¹ä¸ä½ åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°çš„å†…å®¹ç›¸åŒï¼Œå°¤å…¶æ˜¯ä½¿ç”¨åŒä¸€æ¸²æŸ“å¼•æ“æ—¶ï¼š

- åœ¨ iOS ä¸Šï¼ŒWeb æ¸²æŸ“å¼•æ“å§‹ç»ˆæ˜¯ WebKitï¼Œä¸ Safari å’Œ Chrome ç›¸åŒã€‚æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ã€‚iOS ä¸Šçš„ Chrome å®é™…ä¸Šä½¿ç”¨äº† WebKitã€‚
- åœ¨ Android ä¸Šçš„æ¸²æŸ“å¼•æ“é€šå¸¸æ˜¯ Blinkï¼Œä¸ Chrome ç›¸åŒã€‚
- åœ¨ Windowsï¼ŒLinux å’Œ macOS ä¸Šï¼Œç”±äºè¿™äº›æ˜¯æ›´å®½æ¾çš„æ¡Œé¢å¹³å°ï¼Œå› æ­¤åœ¨é€‰æ‹© WebView é£æ ¼å’Œæ¸²æŸ“å¼•æ“æ—¶ä¼šæœ‰å¾ˆå¤§çš„çµæ´»æ€§ã€‚ä½ çœ‹åˆ°çš„æµè¡Œæ¸²æŸ“å¼•æ“å°†æ˜¯ Blinkï¼ˆChromeï¼‰å’Œ Tridentï¼ˆInternet Explorerï¼‰ï¼Œä½†æ˜¯æ²¡æœ‰ä¸€ä¸ªå¼•æ“å¯ä»¥ä¾èµ–ã€‚è¿™å®Œå…¨å–å†³äºåº”ç”¨ä»¥åŠå®ƒæ­£åœ¨ä½¿ç”¨çš„ WebView å¼•æ“ã€‚

- [ç†è§£ WebView](https://github.com/xitu/gold-miner/blob/ec8862f2993f7eea977af6929d0b0785a86fd4e3/TODO1/understanding-webviews.md){:target='_blank'}

<!-- - [Android WebViewåŸºæœ¬ä½¿ç”¨](https://blog.csdn.net/lowprofile_coding/article/details/77928614){:target='_blank'}
- [7.5.1 WebView(ç½‘é¡µè§†å›¾)åŸºæœ¬ç”¨æ³•](https://www.runoob.com/w3cnote/android-tutorial-webview.html){:target='_blank'}
- [ä½ çœŸçš„äº†è§£webviewä¹ˆï¼Ÿ](https://zhuanlan.zhihu.com/p/58691238){:target='_blank'}
- [Androidï¼šè¿™æ˜¯ä¸€ä»½å…¨é¢ & è¯¦ç»†çš„Webviewä½¿ç”¨æ”»ç•¥](https://www.jianshu.com/p/3c94ae673e2a/){:target='_blank'}
- [WebViewä½ çœŸçš„ç†Ÿæ‚‰å—ï¼Ÿçœ‹äº†æ‰çŸ¥é“](https://www.jianshu.com/p/d2f5ae6b4927){:target='_blank'}
- [WebView](http://www.androidchina.net/tag/webview){:target='_blank'} -->

### Headless browser

- [ä»€ä¹ˆæ˜¯ã€Œæ— å¤´æµè§ˆå™¨ã€ ï¼ˆHeadless browserï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Ÿ](https://www.zhihu.com/question/314668782/answer/620975831){:target='_blank'}
- [å•¥æ˜¯æ— å¤´æµè§ˆå™¨ï¼Œéƒ½èƒ½å¹²å•¥ï¼Ÿä¸€æ–‡è¯´æ¸…æ¥š](https://zhuanlan.zhihu.com/p/137843898){:target='_blank'}
- [Headless Chrome architecture](https://www.cnblogs.com/bigben0123/p/13880254.html){:target='_blank'}
- [What is a Headless Browser?](https://oxylabs.io/blog/what-is-headless-browser){:target='_blank'}
- [6 Popular Headless Browsers for Web Testing](https://www.keycdn.com/blog/headless-browsers){:target='_blank'}

- [Headless Chrome architecture](https://www.google.com.hk/search?q=Headless+Chrome+architecture&newwindow=1&safe=strict&tbm=isch&source=iu&ictx=1&fir=W9qdIOjuXPFz5M%252C1zvWEtXccmOnlM%252C_&vet=1&usg=AI4_-kRn8Gc3dK1IDfgodMG38_HcVuPoeQ&sa=X&ved=2ahUKEwiTvdzvuMPxAhW583MBHZnTA7wQ9QF6BAgiEAE#imgrc=W9qdIOjuXPFz5M){:target='_blank'}

&emsp;&emsp;Puppeteer æ˜¯ä¸€ä¸ª node åº“ï¼Œä»–æä¾›äº†ä¸€ç»„ç”¨æ¥æ“çºµ Chrome çš„ API, é€šä¿—æ¥è¯´å°±æ˜¯ä¸€ä¸ª headless chrome æµè§ˆå™¨ (å½“ç„¶ä½ ä¹Ÿå¯ä»¥é…ç½®æˆæœ‰ UI çš„ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰çš„)ã€‚æ—¢ç„¶æ˜¯æµè§ˆå™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‰‹å·¥å¯ä»¥åœ¨æµè§ˆå™¨ä¸Šåšçš„äº‹æƒ… Puppeteer éƒ½èƒ½èƒœä»», å¦å¤–ï¼ŒPuppeteer ç¿»è¯‘æˆä¸­æ–‡æ˜¯â€æœ¨å¶â€æ„æ€ï¼Œæ‰€ä»¥å¬åå­—å°±çŸ¥é“ï¼Œæ“çºµèµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½ å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ“çºµå¥¹å»å®ç°ï¼š

1ï¼‰ ç”Ÿæˆç½‘é¡µæˆªå›¾æˆ–è€… PDF
2ï¼‰ é«˜çº§çˆ¬è™«ï¼Œå¯ä»¥çˆ¬å–å¤§é‡å¼‚æ­¥æ¸²æŸ“å†…å®¹çš„ç½‘é¡µ
3ï¼‰ æ¨¡æ‹Ÿé”®ç›˜è¾“å…¥ã€è¡¨å•è‡ªåŠ¨æäº¤ã€ç™»å½•ç½‘é¡µç­‰ï¼Œå®ç° UI è‡ªåŠ¨åŒ–æµ‹è¯•
4ï¼‰ æ•è·ç«™ç‚¹çš„æ—¶é—´çº¿ï¼Œä»¥ä¾¿è¿½è¸ªä½ çš„ç½‘ç«™ï¼Œå¸®åŠ©åˆ†æç½‘ç«™æ€§èƒ½é—®é¢˜

&emsp;&emsp;Puppeteer è·Ÿ webdriver ä»¥åŠ PhantomJS æœ€å¤§çš„ çš„ä¸åŒå°±æ˜¯å®ƒæ˜¯ç«™åœ¨ç”¨æˆ·æµè§ˆçš„è§’åº¦ï¼Œè€Œ webdriver å’Œ PhantomJS æœ€åˆè®¾è®¡å°±æ˜¯ç”¨æ¥åšè‡ªåŠ¨åŒ–æµ‹è¯•çš„ï¼Œæ‰€ä»¥å®ƒæ˜¯ç«™åœ¨æœºå™¨æµè§ˆçš„è§’åº¦æ¥è®¾è®¡çš„ï¼Œæ‰€ä»¥å®ƒä»¬ ä½¿ç”¨çš„æ˜¯ä¸åŒçš„è®¾è®¡å“²å­¦ã€‚

- [puppeteer](https://github.com/puppeteer/puppeteer/){:target='\_blank'}
- [Puppeteer å…¥é—¨æ•™ç¨‹](https://www.r9it.com/20171106/puppeteer.html){:target='\_blank'}
- [API æ–‡æ¡£](https://github.com/puppeteer/puppeteer/blob/main/docs/api.md){:target='\_blank'}

- [ç½‘ç«™æ€§èƒ½æµ‹è¯•åˆ©å™¨:Puppeteer](https://cloud.tencent.com/developer/article/1086109){:target='\_blank'}
- [ç»“åˆé¡¹ç›®æ¥è°ˆè°ˆ Puppeteer](https://zhuanlan.zhihu.com/p/76237595){:target='\_blank'}

### Electron

## æµè§ˆå™¨ä»£ç å…¼å®¹æ€§

- [caniuse](https://www.caniuse.com/){:target='_blank'}
- [browseemall](https://www.browseemall.com/Resources){:target='_blank'}
- [html5test](https://html5test.com/){:target='_blank'}

## ç›¸ä¼´æ—¥ä¹… â€”â€” æµè§ˆå™¨

&emsp;&emsp;ä½œä¸ºä¸€åå‰ç«¯å¼€å‘äººå‘˜ï¼Œå­¦ä¹ æµè§ˆå™¨çš„å†…éƒ¨å·¥ä½œåŸç†å°†æœ‰åŠ©äºæˆ‘ä»¬åœ¨å¼€å‘ä¸­ä½œå‡ºæ›´æ˜æ™ºçš„å†³ç­–ï¼Œå¹¶ç†è§£é‚£äº›æœ€ä½³å¼€å‘å®è·µçš„ä¸ªä¸­ç¼˜ç”±ã€‚åœ¨å‰ç«¯é¢è¯•ä¸­ï¼Œä¹Ÿæœ‰ä¸€é“ç»å…¸çš„é¢è¯•é¢˜ â€”â€”ã€ä»æ‚¨åœ¨åœ°å€æ è¾“å…¥ google.com ç›´åˆ°æ‚¨åœ¨æµè§ˆå™¨å±å¹•ä¸Šçœ‹åˆ° Google é¦–é¡µçš„æ•´ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†äº›ä»€ä¹ˆã€‘ã€‚

- [æµè§ˆå™¨æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼šChrome V8 è®©ä½ æ›´æ‡‚ JavaScript](https://segmentfault.com/a/1190000037435824){:target='\_blank'}
- [æµè§ˆå™¨çš„å·¥ä½œåŸç†ï¼šæ–°å¼ç½‘ç»œæµè§ˆå™¨å¹•åæ­ç§˜](https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/){:target='\_blank'}
- [ä»æµè§ˆå™¨å¤šè¿›ç¨‹åˆ° JS å•çº¿ç¨‹ï¼ŒJS è¿è¡Œæœºåˆ¶æœ€å…¨é¢çš„ä¸€æ¬¡æ¢³ç†](https://segmentfault.com/a/1190000012925872){:target='\_blank'}
- [ğŸ¤” ç§»åŠ¨ç«¯ JS å¼•æ“å“ªå®¶å¼ºï¼Ÿç¾å›½ç¡…è°·æ‰¾......](https://mp.weixin.qq.com/s/cV3RH72YKd6jRYBFhjJ-5w){:target='\_blank'}
- [Page Lifecycle API](https://developers.google.com/web/updates/2018/07/page-lifecycle-api#overview_of_page_lifecycle_states_and_events){:target='\_blank'}
- [ä» V8 è§’åº¦æ­ç§˜ä½ ä¸çŸ¥é“çš„é¢è¯•å…«è‚¡æ–‡](https://mp.weixin.qq.com/s/NkaGseRlLKcERx6rpouCFA){:target='_blank'}
- [é«˜æ€§èƒ½ JavaScript å¼•æ“ V8 - åƒåœ¾å›æ”¶](https://mp.weixin.qq.com/s/TnaQRMpJaxxIUIZS2MK9-g){:target='_blank'}

- [è‡ªä¸»ç ”å‘ä¸€æ¬¾æµè§ˆå™¨å†…æ ¸çš„éš¾åº¦åˆ°åº•æœ‰å¤šå¤§ï¼Ÿ](https://www.zhihu.com/question/290564335/answer/474202037){:target='\_blank'}


- [QQæµè§ˆå™¨æ˜¯åŸºäºchromeå†…æ ¸å¼€å‘çš„å—ï¼Ÿ](https://zhidao.baidu.com/question/2058022048028049667.html){:target='_blank'}
- [æ–°ç‰ˆMicrosoft Edgeï¼ˆChromiumå†…æ ¸ï¼‰ä»‹ç»](https://baijiahao.baidu.com/s?id=1654951353372013675){:target='_blank'}
  - Microsoft Edge (EdgeHTML)
  - Chromium

### Chrome 

- [Chrome æµè§ˆå™¨æ¶æ„](https://xie.infoq.cn/article/5d36d123bfd1c56688e125ad3){:target='_blank'}
  - [Inside look at modern web browser (part 1)](https://developers.google.com/web/updates/2018/09/inside-browser-part1){:target='_blank'}
  - [Inside look at modern web browser (part 2)](https://developers.google.com/web/updates/2018/09/inside-browser-part2){:target='_blank'}
  - [Inside look at modern web browser (part 3)](https://developers.google.com/web/updates/2018/09/inside-browser-part3){:target='_blank'}
  - [Inside look at modern web browser (part 4)](https://developers.google.com/web/updates/2018/09/inside-browser-part4){:target='_blank'}
  - [å›¾è§£æµè§ˆå™¨çš„åŸºæœ¬å·¥ä½œåŸç†](https://zhuanlan.zhihu.com/p/47407398){:target='\_blank'}
  - [ç°ä»£æµè§ˆå™¨å†…éƒ¨æ­ç§˜ï¼ˆç¬¬ä¸€éƒ¨åˆ†ï¼‰](https://github.com/xitu/gold-miner/blob/master/TODO1/inside-look-at-modern-web-browser-part1.md){:target='_blank'}
- [ä¸€æ–‡çœ‹é€æµè§ˆå™¨æ¶æ„](https://segmentfault.com/a/1190000018277184){:target='_blank'}

- [ç°ä»£æµè§ˆå™¨å·¥ä½œåŸç†ï¼ˆä¸€ï¼‰](http://chuquan.me/2018/01/21/browser-architecture-overview/){:target='_blank'}
- [Web æµè§ˆå™¨ç›¸å…³çš„ä¸€äº›æ¦‚å¿µ](https://keqingrong.cn/blog/2019-11-24-concepts-related-to-web-browsers){:target='_blank'}

- [THE BASIC FLOW OF RENDERING ENGINE](https://www.google.com.hk/search?newwindow=1&safe=strict&source=univ&tbm=isch&q=THE+BASIC+FLOW+OF+RENDERING+ENGINE&sa=X&ved=2ahUKEwjNopKj2b7xAhXP7XMBHcUyCs8Q7Al6BAgnEFM&biw=1536&bih=694&dpr=2#imgrc=BOuUFmUelYNhYM){:target='_blank'}

å›¾ç‰‡å¾ˆç²¾ç¾ï¼š
- [Quantum Up Close: What is a browser engine?](https://hacks.mozilla.org/2017/05/quantum-up-close-what-is-a-browser-engine/){:target='_blank'}
  - [è§£å¯† Quantumï¼šç°ä»£æµè§ˆå™¨å¼•æ“çš„æ„å»ºä¹‹é“](https://github.com/xitu/gold-miner/blob/master/TODO/quantum-up-close-what-is-a-browser-engine.md){:target='_blank'}

- [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner/search?q=web+browser){:target='_blank'}


- [æµè§ˆå™¨å¸‚åœºå æœ‰ç‡åˆ†æ](https://zhuanlan.zhihu.com/p/187066428){:target='\_blank'}
